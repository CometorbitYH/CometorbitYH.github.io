<!DOCTYPE html><html lang="zh-CN"><head><meta name="generator" content="Hexo 3.9.0"><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"><title>JAVA String类 | MY</title><meta name="description" content="JAVA String类"><meta name="keywords" content><meta name="author" content="杨涵"><meta name="copyright" content="杨涵"><meta name="format-detection" content="telephone=no"><link rel="shortcut icon" href="/img/favicon.ico"><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/font-awesome@latest/css/font-awesome.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.css"><meta http-equiv="x-dns-prefetch-control" content="on"><link rel="canonical" href="https://cometorbityh.github.io/2019/11/18/JAVA-String类/"><meta name="twitter:card" content="summary_large_image"><meta name="twitter:title" content="JAVA String类"><meta name="twitter:description" content="JAVA String类"><meta name="twitter:image" content="https://cdn.jsdelivr.net/gh/jerryc127/CDN@latest/Photo/avatar.png"><meta property="og:type" content="article"><meta property="og:title" content="JAVA String类"><meta property="og:url" content="https://cometorbityh.github.io/2019/11/18/JAVA-String类/"><meta property="og:site_name" content="MY"><meta property="og:description" content="JAVA String类"><meta property="og:image" content="https://cdn.jsdelivr.net/gh/jerryc127/CDN@latest/Photo/avatar.png"><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><link rel="prev" title="JAVA Object:常见方法概述" href="https://cometorbityh.github.io/2019/11/19/JAVA-Object-常见方法概述/"><link rel="next" title="CET6 CORE (1)" href="https://cometorbityh.github.io/2019/11/18/CET6-CORE-1/"><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Titillium+Web"><script>var GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: undefined,
  translate: {"defaultEncoding":2,"translateDelay":0,"cookieDomain":"https://xxx/","msgToTraditionalChinese":"繁","msgToSimplifiedChinese":"简"},
  highlight_copy: 'true',
  highlight_lang: 'true',
  highlight_shrink: 'false',
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  bookmark: {
    title: '添加书签',
    message_prev: '按',
    message_next: '键将本页加入书签'
  },
  runtime_unit: '天',
  copyright: {"languages":{"author":"作者: 杨涵","link":"链接: https://cometorbityh.github.io/2019/11/18/JAVA-String类/","source":"来源: MY","info":"著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。"}},
  copy_copyright_js: true
  
}</script></head><body><canvas class="fireworks"></canvas><div id="header"> <div id="page-header"><span class="pull-left" id="blog_name"><a class="blog_title" id="site-name" href="/">MY</a></span><i class="fa fa-bars fa-fw toggle-menu pull-right close" aria-hidden="true"></i><span class="pull-right menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fa fa-home"></i><span> Home</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fa fa-archive"></i><span> Archives</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fa fa-tags"></i><span> Tags</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fa fa-folder-open"></i><span> Categories</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fa fa-link"></i><span> Link</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fa fa-heart"></i><span> About</span></a></div><div class="menus_item"><a class="site-page"><i class="fa-fw fa fa-list" aria-hidden="true"></i><span> List</span><i class="fa fa-chevron-down menus-expand" aria-hidden="true"></i></a><ul class="menus_item_child"><li><a class="site-page" href="/music/"><i class="fa-fw fa fa-music"></i><span> Music</span></a></li><li><a class="site-page" href="/movies/"><i class="fa-fw fa fa-film"></i><span> Movie</span></a></li></ul></div><script>document.body.addEventListener('touchstart', function(){ });</script></div></span><span class="pull-right" id="search_button"></span></div></div><div id="mobile-sidebar"><div id="menu_mask"></div><div id="mobile-sidebar-menus"><div class="mobile_author_icon"><img class="lozad avatar_img" src="https://cdn.jsdelivr.net/gh/jerryc127/CDN@latest/Photo/avatar.png" onerror="onerror=null;src='/img/friend_404.gif'"></div><div class="mobile_post_data"><div class="mobile_data_item is_center"><div class="mobile_data_link"><a href="/archives/"><div class="headline">文章</div><div class="length_num">69</div></a></div></div><div class="mobile_data_item is_center">      <div class="mobile_data_link"><a href="/tags/"><div class="headline">标签</div><div class="length_num">16</div></a></div></div><div class="mobile_data_item is_center">     <div class="mobile_data_link"><a href="/categories/"><div class="headline">分类</div><div class="length_num">9</div></a></div></div></div><hr><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fa fa-home"></i><span> Home</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fa fa-archive"></i><span> Archives</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fa fa-tags"></i><span> Tags</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fa fa-folder-open"></i><span> Categories</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fa fa-link"></i><span> Link</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fa fa-heart"></i><span> About</span></a></div><div class="menus_item"><a class="site-page"><i class="fa-fw fa fa-list" aria-hidden="true"></i><span> List</span><i class="fa fa-chevron-down menus-expand" aria-hidden="true"></i></a><ul class="menus_item_child"><li><a class="site-page" href="/music/"><i class="fa-fw fa fa-music"></i><span> Music</span></a></li><li><a class="site-page" href="/movies/"><i class="fa-fw fa fa-film"></i><span> Movie</span></a></li></ul></div><script>document.body.addEventListener('touchstart', function(){ });</script></div></div><div id="mobile-sidebar-toc"><div class="toc_mobile_headline">目录</div><ol class="toc_mobile_items"><li class="toc_mobile_items-item toc_mobile_items-level-1"><a class="toc_mobile_items-link" href="#String"><span class="toc_mobile_items-text">String</span></a><ol class="toc_mobile_items-child"><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#使用String对象存储字符串"><span class="toc_mobile_items-text">使用String对象存储字符串</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#String本质——char数组"><span class="toc_mobile_items-text">String本质——char数组</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#String的不可变性"><span class="toc_mobile_items-text">String的不可变性</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#String类常用的方法及使用"><span class="toc_mobile_items-text">String类常用的方法及使用</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#字符串常量池"><span class="toc_mobile_items-text">字符串常量池</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#intern-方法"><span class="toc_mobile_items-text">intern() 方法</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#小试牛刀"><span class="toc_mobile_items-text">小试牛刀</span></a></li></ol></li><li class="toc_mobile_items-item toc_mobile_items-level-1"><a class="toc_mobile_items-link" href="#StringBuffer-StringBuilder"><span class="toc_mobile_items-text">StringBuffer  + StringBuilder</span></a><ol class="toc_mobile_items-child"><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#介绍"><span class="toc_mobile_items-text">介绍</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#使用"><span class="toc_mobile_items-text">使用</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#区别"><span class="toc_mobile_items-text">区别</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#案例"><span class="toc_mobile_items-text">案例</span></a></li></ol></li><li class="toc_mobile_items-item toc_mobile_items-level-1"><a class="toc_mobile_items-link" href="#8种基本数据类型的包装类型"><span class="toc_mobile_items-text">8种基本数据类型的包装类型</span></a><ol class="toc_mobile_items-child"><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#装箱与拆箱"><span class="toc_mobile_items-text">装箱与拆箱</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#自动拆装箱"><span class="toc_mobile_items-text">自动拆装箱</span></a><ol class="toc_mobile_items-child"><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#⭐使用常量池"><span class="toc_mobile_items-text">⭐使用常量池</span></a></li></ol></li></ol></li></ol></div></div><div id="body-wrap"><div id="web_bg"></div><i class="fa fa-arrow-right" id="toggle-sidebar" aria-hidden="true">     </i><div class="auto_open" id="sidebar"><div class="sidebar-toc"><div class="sidebar-toc__title">目录</div><div class="sidebar-toc__progress"><span class="progress-notice">你已经读了</span><span class="progress-num">0</span><span class="progress-percentage">%</span><div class="sidebar-toc__progress-bar">     </div></div><div class="sidebar-toc__content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#String"><span class="toc-text">String</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#使用String对象存储字符串"><span class="toc-text">使用String对象存储字符串</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#String本质——char数组"><span class="toc-text">String本质——char数组</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#String的不可变性"><span class="toc-text">String的不可变性</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#String类常用的方法及使用"><span class="toc-text">String类常用的方法及使用</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#字符串常量池"><span class="toc-text">字符串常量池</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#intern-方法"><span class="toc-text">intern() 方法</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#小试牛刀"><span class="toc-text">小试牛刀</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#StringBuffer-StringBuilder"><span class="toc-text">StringBuffer  + StringBuilder</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#介绍"><span class="toc-text">介绍</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#使用"><span class="toc-text">使用</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#区别"><span class="toc-text">区别</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#案例"><span class="toc-text">案例</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#8种基本数据类型的包装类型"><span class="toc-text">8种基本数据类型的包装类型</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#装箱与拆箱"><span class="toc-text">装箱与拆箱</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#自动拆装箱"><span class="toc-text">自动拆装箱</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#⭐使用常量池"><span class="toc-text">⭐使用常量池</span></a></li></ol></li></ol></li></ol></div></div></div><div id="content-outer"><div id="top-container" style="background-image: url(https://cdn.jsdelivr.net/gh/jerryc127/CDN@latest/Photo/post.png)"><div id="post-info"><div id="post-title"><div class="posttitle">JAVA String类</div></div><div id="post-meta"><time class="post-meta__date"><i class="fa fa-calendar" aria-hidden="true"></i> 发表于 2019-11-18<span class="post-meta__separator">|</span><i class="fa fa-history" aria-hidden="true"></i> 更新于 2019-11-24</time><div class="post-meta-wordcount"><span>阅读量: </span><span id="busuanzi_value_page_pv"></span></div></div></div></div><div class="layout layout_post" id="content-inner">   <article id="post"><div class="article-container" id="post-content"><p><img alt data-src="https://yanghanblog.oss-cn-hangzhou.aliyuncs.com/img/20191124230956.png" class="lozad"></p>
<h1 id="String"><a href="#String" class="headerlink" title="String"></a>String</h1><h2 id="使用String对象存储字符串"><a href="#使用String对象存储字符串" class="headerlink" title="使用String对象存储字符串"></a>使用String对象存储字符串</h2><p>创建String对象常见的3种方法：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">    String str1 = <span class="string">"abc"</span>;	</span><br><span class="line">    System.out.println(<span class="string">"str1 = "</span> + str1);</span><br><span class="line"></span><br><span class="line">    String str2 = <span class="keyword">new</span> String(<span class="string">"abc"</span>);</span><br><span class="line">    System.out.println(<span class="string">"str2 = "</span> + str2);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">char</span>[] chs = &#123;<span class="string">'a'</span>,<span class="string">'b'</span>,<span class="string">'c'</span>&#125;;</span><br><span class="line">    String str3 = <span class="keyword">new</span> String (chs);</span><br><span class="line">    System.out.println(<span class="string">"str3 = "</span> + str3);</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>凡是用“=”直接创建字符串对象的，都是保存在字符串常量池；</p>
<p>使用 new 关键字创建字符串对象的，保存的是指向栈内存对象的地址。</p>
<p> String类位于java.lang包下，是Java语言的核心类，提供了字符串的<strong>比较、查找、截取、大小写转换</strong>等操作；</p>
<p>Java语言为“+”连接符（字符串连接符）以及对象转换为字符串提供了特殊的支持，字符串对象可以使用“+”连接其他对象。 </p>
<h2 id="String本质——char数组"><a href="#String本质——char数组" class="headerlink" title="String本质——char数组"></a>String本质——char数组</h2><p><img alt data-src="https://yanghanblog.oss-cn-hangzhou.aliyuncs.com/img/20191123232752.png" class="lozad"></p>
<p><img alt data-src="https://yanghanblog.oss-cn-hangzhou.aliyuncs.com/img/20191118201135.png" class="lozad"></p>
<p>根据上面的代码和源码，我们可以看出，</p>
<p>String类被final关键字修饰，因此无法被继承，且其成员方法都默认是final方法。</p>
<ul>
<li>在Java中，被final修饰的类是不允许被继承的，并且该类中的成员方法都默认为final方法。 </li>
</ul>
<p><font color="red">String的本质就是一个char数组！！！</font></p>
<p>由于有final的存在，该数组就是常量，通过初始化后，值就是不可变的了，也就证明了String的<font color="red">不可变性</font></p>
<h2 id="String的不可变性"><a href="#String的不可变性" class="headerlink" title="String的不可变性"></a>String的不可变性</h2><p><font color="red">不可变：一旦一个字符串被创建后。它的值就不能被修改了。</font></p>
<p>在这里有个疑惑，为什么是不可变的？String对象不是可以修改吗？</p>
<p>案例：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">    String str1 = <span class="string">"abc"</span>;</span><br><span class="line">    System.out.println(<span class="string">"str1 = "</span> + str1);</span><br><span class="line">    str1 = <span class="string">"def"</span>;</span><br><span class="line">    System.out.println(<span class="string">"str1 = "</span> + str1);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">--------控制台--------</span><br><span class="line">str1 = abc</span><br><span class="line">str1 = def</span><br></pre></td></tr></table></figure>

<p>不急，我们首先来看看这2个是同一对象嘛，案例</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">    String str1 = <span class="string">"abc"</span>;</span><br><span class="line">    System.out.println(<span class="string">"str1 = "</span> + str1);</span><br><span class="line">    System.out.println(<span class="string">"hashcode = "</span>+ str1.hashCode());</span><br><span class="line">    str1 = <span class="string">"def"</span>;</span><br><span class="line">    System.out.println(<span class="string">"str1 = "</span> + str1);</span><br><span class="line">    System.out.println(<span class="string">"hashcode = "</span>+ str1.hashCode());</span><br><span class="line">&#125;</span><br><span class="line">--------控制台--------</span><br><span class="line">str1 = abc</span><br><span class="line">hashcode = <span class="number">96354</span></span><br><span class="line">str1 = def</span><br><span class="line">hashcode = <span class="number">99333</span></span><br></pre></td></tr></table></figure>

<p>可以看出，修改前后的2个String对象的hashcode不一样，这说明这2个不是同一个对象。</p>
<p>其实不是改变了，只是这个引用指向的对象不一样了。</p>
<p><img alt data-src="https://yanghanblog.oss-cn-hangzhou.aliyuncs.com/img/20191124000919.png" class="lozad"></p>
<p>这可能是巧合，我们在看一个案例：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">    String str1 = <span class="string">"abc"</span>;</span><br><span class="line">    System.out.println(<span class="string">"str1 = "</span> + str1);</span><br><span class="line">    System.out.println(<span class="string">"hashcode = "</span>+ str1.hashCode());</span><br><span class="line"></span><br><span class="line">    str1 = str1.concat(<span class="string">"def"</span>);  <span class="comment">//等价于 str1 = str1 + "def";</span></span><br><span class="line">    System.out.println(<span class="string">"str1 = "</span> + str1);</span><br><span class="line">    System.out.println(<span class="string">"hashcode = "</span>+ str1.hashCode());</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>可以看到，这2个对象的hashcode还是不同的，这是为什么呢？我们来看下concat方法的源码：</p>
<p><img alt data-src="https://yanghanblog.oss-cn-hangzhou.aliyuncs.com/img/20191118202217.png" class="lozad"></p>
<p>可以看出，concat方法的返回值是一个<strong>全新的String对象</strong>，原来String的底层源码也隐藏着这么一层复杂的逻辑。</p>
<p><strong>因此说String对象具有不可变性。</strong></p>
<h2 id="String类常用的方法及使用"><a href="#String类常用的方法及使用" class="headerlink" title="String类常用的方法及使用"></a>String类常用的方法及使用</h2><table>
<thead>
<tr>
<th>常见方法</th>
<th>作用</th>
</tr>
</thead>
<tbody><tr>
<td>public toCharArray()</td>
<td>将String对象转换为char数组</td>
</tr>
<tr>
<td>public char charAt(int index)</td>
<td>获得char数组的对应下标的元素</td>
</tr>
<tr>
<td>public int compareTo(String anotherString)</td>
<td>比较2个字符串的字典顺序</td>
</tr>
<tr>
<td>public int compareToIgnoreCase(String anotherString)</td>
<td>比较2个字符串的字典顺序（忽略大小写）</td>
</tr>
<tr>
<td>public String concat(String str)</td>
<td>增长字符串</td>
</tr>
<tr>
<td>public int indexOf(String str)</td>
<td>获得另一字符串第一次在本字符串出现的索引值（从前往后找），若不存在则返回-1</td>
</tr>
<tr>
<td>public int lastIndexOf(String str)</td>
<td>获得另一字符串第一次在本字符串出现的索引值（从后往前找），若不存在则返回-1</td>
</tr>
<tr>
<td>public boolean contains(CharSequence s)</td>
<td>判断是否包含该字符串</td>
</tr>
<tr>
<td>public boolean startsWith(String prefix)</td>
<td>判断该字符串是否以另一字符串开始的</td>
</tr>
<tr>
<td>public boolean endsWith(String suffix)</td>
<td>判断该字符串是否以另一字符串结尾的</td>
</tr>
<tr>
<td><code>public boolean equals(Object anObject)</code></td>
<td>判断2个字符串的值是否相等（String重写了equals方法）</td>
</tr>
<tr>
<td>public int length()</td>
<td>获取该字符串的长度（注意与length属性的区别）</td>
</tr>
<tr>
<td>public String[] split(String regex)</td>
<td>将字符串按照固定符号分割成一个字符串数组</td>
</tr>
<tr>
<td>public String toLowerCase()</td>
<td>将字符串转为小写</td>
</tr>
<tr>
<td>public String toUpperCase()</td>
<td>将字符串转为大写</td>
</tr>
<tr>
<td>public String trim()</td>
<td>去掉字符串的前后空格</td>
</tr>
<tr>
<td>public static String valueOf(int i)</td>
<td>把传入的数据转为字符串</td>
</tr>
<tr>
<td>public static String format(String format, Object… args)</td>
<td>格式化字符串</td>
</tr>
<tr>
<td>public String replace(CharSequence target, CharSequence replacement)</td>
<td>将所有的指定字符串替换为新字符串</td>
</tr>
<tr>
<td>public String substring(int beginIndex, int endIndex)</td>
<td>返回一个新字符串，他是此字符串的子字符串 <strong>[ begin,end )</strong></td>
</tr>
</tbody></table>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.young.stringtest;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.lang.reflect.Method;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">StringDemo01</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        method01();</span><br><span class="line">        method02();</span><br><span class="line">        method03();</span><br><span class="line">        method04();</span><br><span class="line">        method05();</span><br><span class="line">        method06();</span><br><span class="line">        method07();</span><br><span class="line">        method08();</span><br><span class="line">        method09();</span><br><span class="line">        method10();</span><br><span class="line">        method11();</span><br><span class="line">        method12();</span><br><span class="line">        method13();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/*  toCharArray()  charAt()  */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">method01</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        String str1 = <span class="string">"abc"</span>;</span><br><span class="line">        <span class="keyword">char</span>[] chars = str1.toCharArray();</span><br><span class="line">        System.out.println(chars[<span class="number">2</span>]);   <span class="comment">//c</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">char</span> c = str1.charAt(<span class="number">1</span>);</span><br><span class="line">        System.out.println(c);      <span class="comment">//b</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">/*  compareTo(String str)   */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">method02</span><span class="params">()</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">        <span class="comment">/*</span></span><br><span class="line"><span class="comment">         *   str1.compareTo(str2)</span></span><br><span class="line"><span class="comment">         *   长度不同，内容不同，比较的是2个字符串的第一个同位置但不同字符的字典顺序</span></span><br><span class="line"><span class="comment">         *   长度不同，但前面所有内容都相同，则比较长度</span></span><br><span class="line"><span class="comment">         * */</span></span><br><span class="line">        String str1 = <span class="string">"abc"</span>;</span><br><span class="line">        String str2 = <span class="string">"def"</span>;</span><br><span class="line">        <span class="keyword">int</span> pos1 = str1.compareTo(str2);</span><br><span class="line">        System.out.println(pos1);    <span class="comment">//-3，字典顺序a-97,d-100</span></span><br><span class="line"></span><br><span class="line">        String str3 = <span class="string">"abc"</span>;</span><br><span class="line">        String str4 = <span class="string">"abcde"</span>;</span><br><span class="line">        <span class="keyword">int</span> pos2 = str3.compareTo(str4);</span><br><span class="line">        System.out.println(pos2);    <span class="comment">//-2，比较长度</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">/* compareToIgnoreCase() */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">method03</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        String str1 = <span class="string">"abc"</span>;</span><br><span class="line">        String str2 = <span class="string">"aBc"</span>;</span><br><span class="line">        System.out.println(str1.compareTo(str2));   <span class="comment">//32</span></span><br><span class="line">        System.out.println(str1.compareToIgnoreCase(str2)); <span class="comment">//0</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/* concat() */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">method04</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        String str1 = <span class="string">"abc"</span>;</span><br><span class="line">        String str2 = <span class="string">"hello"</span>;</span><br><span class="line">        str1 = str1.concat(str2);</span><br><span class="line">        System.out.println(str1);    <span class="comment">//abchello</span></span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">/* contain()  startsWith()  endsWith() */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">method05</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        String str1 = <span class="string">"hello123"</span>;</span><br><span class="line">        String str2 = <span class="string">"hello"</span>;</span><br><span class="line">        System.out.println(str1.contains(str2));    <span class="comment">//true</span></span><br><span class="line">        System.out.println(str1.startsWith(<span class="string">"hell"</span>));    <span class="comment">//true</span></span><br><span class="line">        System.out.println(str1.startsWith(<span class="string">"123"</span>));  <span class="comment">//false</span></span><br><span class="line">        System.out.println(str1.endsWith(<span class="string">"hello"</span>));     <span class="comment">//false</span></span><br><span class="line">        System.out.println(str1.endsWith(<span class="string">"123"</span>));   <span class="comment">//true</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/* indexOf()  lastIndexOf() */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">method06</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        String str1 = <span class="string">"hello123"</span>;</span><br><span class="line">        String str2 = <span class="string">"lo"</span>;</span><br><span class="line">        System.out.println(str1.indexOf(str2));    <span class="comment">//3</span></span><br><span class="line">        System.out.println(str1.lastIndexOf(str2));    <span class="comment">//3</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/* equals() */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">method07</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        String str1 = <span class="string">"hello"</span>;  <span class="comment">//存放在字符串常量池</span></span><br><span class="line">        String str2 = <span class="string">"hello"</span>;</span><br><span class="line">        String str3 = <span class="keyword">new</span> String(<span class="string">"hello"</span>);  <span class="comment">//指向栈内存的对象的地址值</span></span><br><span class="line">        String str4 = <span class="keyword">new</span> String(<span class="string">"hello"</span>);  <span class="comment">//指向栈内存的对象的地址值</span></span><br><span class="line"></span><br><span class="line">        System.out.println(str1.equals(str2));    <span class="comment">//true,比较内容，说明String重写equals方法</span></span><br><span class="line">        System.out.println(str1==str2);           <span class="comment">//true,比较地址值</span></span><br><span class="line">        System.out.println(str1.equals(str3));    <span class="comment">//true,比较内容</span></span><br><span class="line">        System.out.println(str1==str3);           <span class="comment">//false,比较地址</span></span><br><span class="line">        System.out.println(str3.equals(str4));    <span class="comment">//true,比较内容</span></span><br><span class="line">        System.out.println(str3==str4);           <span class="comment">//false,比较地址</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/* length()  length */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">method08</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        String str1 = <span class="string">"helloWorld"</span>;</span><br><span class="line">        System.out.println(str1.length());  <span class="comment">//10</span></span><br><span class="line">        String[] strs = &#123;<span class="string">"a"</span>,<span class="string">"b"</span>,<span class="string">"c"</span>&#125;;</span><br><span class="line">        System.out.println(strs.length);  <span class="comment">//3</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/* split()*/</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">method09</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        String fruits = <span class="string">"apple,banana,orange"</span>;</span><br><span class="line">        String[] fruits1 = fruits.split(<span class="string">","</span>);</span><br><span class="line">        <span class="keyword">for</span> (String fruit: fruits1)&#123;</span><br><span class="line">            System.out.print(fruit + <span class="string">" "</span>);  <span class="comment">//apple banana orange</span></span><br><span class="line">        &#125;</span><br><span class="line">        System.out.println();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/* toLowerCase() toUpperCase() */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">method10</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        String str1 = <span class="string">"AbcDeF"</span>;</span><br><span class="line">        System.out.println(str1.toLowerCase()); <span class="comment">//abcdef</span></span><br><span class="line">        System.out.println(str1.toUpperCase()); <span class="comment">//ABCDEF</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/* trim() */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">method11</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        String str1 = <span class="string">"     AbcDeF "</span>;</span><br><span class="line">        String str2 = <span class="string">"  Abc   DeF "</span>;</span><br><span class="line">        System.out.println(str1.trim());    <span class="comment">//AbcDeF</span></span><br><span class="line">        System.out.println(str2.trim());    <span class="comment">//Abc   DeF</span></span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/* valueOf() */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">method12</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> i =<span class="number">2</span>;</span><br><span class="line">        System.out.println(String.valueOf(i));    <span class="comment">//2</span></span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/* format() replace() substring() */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">method13</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        String str1 = String.format(<span class="string">"Hello: %s,%s"</span>,<span class="string">"小明"</span>,<span class="string">"小红"</span>);   <span class="comment">//Hello: 小明,小红</span></span><br><span class="line">        System.out.println(str1);</span><br><span class="line"></span><br><span class="line">        String str2 = <span class="string">"大家好才是真的好"</span>;</span><br><span class="line">        str2 = str2.replace(<span class="string">"好"</span>,<span class="string">"坏"</span>);</span><br><span class="line">        System.out.println(str2);   <span class="comment">//大家坏才是真的坏</span></span><br><span class="line"></span><br><span class="line">        String url = <span class="string">"www.taobao.com"</span>;</span><br><span class="line">        String url1 = url.substring(<span class="number">3</span>);</span><br><span class="line">        System.out.println(url1);   <span class="comment">//.taobao.com</span></span><br><span class="line">        String url2 = url.substring(<span class="number">0</span>,<span class="number">3</span>);</span><br><span class="line">        System.out.println(url2);   <span class="comment">//www</span></span><br><span class="line">        String url3 = url.substring(url.indexOf(<span class="string">"."</span>)+<span class="number">1</span>,<span class="number">10</span>);</span><br><span class="line">        System.out.println(url3);   <span class="comment">//taobao</span></span><br><span class="line">        String url4 = url.substring(url.lastIndexOf(<span class="string">"."</span>)+<span class="number">1</span>,<span class="number">14</span>);</span><br><span class="line">        System.out.println(url4);   <span class="comment">//com</span></span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="字符串常量池"><a href="#字符串常量池" class="headerlink" title="字符串常量池"></a>字符串常量池</h2><p>在Java的内存分配中，总共3种常量池，分别是Class常量池、运行时常量池、字符串常量池。</p>
<p>字符串的分配和其他对象分配一样，是需要消耗高昂的时间和空间的，而且字符串使用的非常多。JVM为了提高性能和减少内存的开销，在实例化字符串的时候进行了一些优化：使用字符串常量池。每当创建字符串常量时，JVM会首先检查字符串常量池，如果该字符串已经存在常量池中，那么就直接返回常量池中的实例引用。如果字符串不存在常量池中，就会实例化该字符串并且将其放到常量池中。由于String字符串的不可变性，<strong>常量池中一定不存在两个相同的字符串</strong>。</p>
<p> 当执行String s1 = “AB”时，JVM首先会去字符串常量池中检查是否存在”AB”对象，如果不存在，则在字符串常量池中创建”AB”对象，并将”AB”对象的地址返回给s1；如果存在，则不创建任何对象，直接将字符串常量池中”AB”对象的地址返回给s1。 </p>
<h2 id="intern-方法"><a href="#intern-方法" class="headerlink" title="intern() 方法"></a>intern() 方法</h2><p>直接使用双引号声明出来的String对象会直接存储在字符串常量池中，如果不是用双引号声明的String对象，可以使用String提供的intern方法。intern 方法是一个native方法，intern方法会从字符串常量池中查询当前字符串是否存在，如果存在，就直接返回当前字符串；如果不存在就会将当前字符串放入常量池中，之后再返回。</p>
<p><strong>JDK1.7的改动：</strong></p>
<ul>
<li>将String常量池 从 Perm 区移动到了 Java Heap区</li>
<li>String.intern() 方法时，如果存在堆中的对象，会直接保存对象的引用，而不会重新创建对象。</li>
</ul>
<h2 id="小试牛刀"><a href="#小试牛刀" class="headerlink" title="小试牛刀"></a>小试牛刀</h2><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">    String s1 = <span class="string">"AB"</span>;</span><br><span class="line">    String s2 = <span class="keyword">new</span> String(<span class="string">"AB"</span>);</span><br><span class="line">    String s3 = <span class="string">"A"</span>;</span><br><span class="line">    String s4 = <span class="string">"B"</span>;</span><br><span class="line">    String s5 = <span class="string">"A"</span> + <span class="string">"B"</span>;</span><br><span class="line">    String s6 = s3 + s4;</span><br><span class="line">    System.out.println(s1 == s2);			<span class="comment">//false</span></span><br><span class="line">    System.out.println(s1 == s5);			<span class="comment">//true</span></span><br><span class="line">    System.out.println(s1 == s6);			<span class="comment">//false</span></span><br><span class="line">    System.out.println(s1 == s6.intern());	<span class="comment">//true</span></span><br><span class="line">    System.out.println(s2 == s2.intern());	<span class="comment">//false</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">------------------------------</span><br><span class="line">解析：真正理解此题目需要清楚以下三点</span><br><span class="line"><span class="number">1</span>）直接使用双引号声明出来的String对象会直接存储在常量池中；</span><br><span class="line"><span class="number">2</span>）String对象的intern方法会得到字符串对象在常量池中对应的引用，如果常量池中没有对应的字符串，则该字符串将被添加到常量池中，然后返回常量池中字符串的引用；</span><br><span class="line"><span class="number">3</span>） 字符串的+操作其本质是创建了StringBuilder对象进行append操作，然后将拼接后的StringBuilder对象用toString方法处理成String对象，这一点可以用javap -c命令获得<span class="class"><span class="keyword">class</span>文件对应的<span class="title">JVM</span>字节码指令就可以看出来。</span></span><br><span class="line"><span class="class">————————————————</span></span><br><span class="line">原文链接：https://blog.csdn.net/ifwinds/article/details/80849184</span><br></pre></td></tr></table></figure>

<p><img alt data-src="https://yanghanblog.oss-cn-hangzhou.aliyuncs.com/img/20191123234609.png" class="lozad"></p>
<h1 id="StringBuffer-StringBuilder"><a href="#StringBuffer-StringBuilder" class="headerlink" title="StringBuffer  + StringBuilder"></a>StringBuffer  + StringBuilder</h1><h2 id="介绍"><a href="#介绍" class="headerlink" title="介绍"></a>介绍</h2><p>StringBuffer  类称为字符串缓冲区，所表示的是一个字符序列，这个类必须使用new创建对象，</p>
<p>线程安全，效率低</p>
<p>和 String 类不同的是：StringBuffer  是一个可变的类</p>
<p>StringBuilder  类与StringBuffer  类兼容，但是线程不安全</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.young.stringtest;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> javafx.beans.binding.StringBinding;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> javax.sound.midi.Soundbank;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">StringDemo02</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">        StringBuffer stringBuffer = <span class="keyword">new</span> StringBuffer(<span class="string">"你好，"</span>);</span><br><span class="line">        System.out.println(stringBuffer.hashCode());    <span class="comment">//460141958</span></span><br><span class="line">        System.out.println(stringBuffer);    <span class="comment">//你好,</span></span><br><span class="line">        stringBuffer.append(<span class="string">"世界！"</span>);</span><br><span class="line">        System.out.println(stringBuffer.hashCode());    <span class="comment">//460141958</span></span><br><span class="line">        System.out.println(stringBuffer);    <span class="comment">//你好，世界！</span></span><br><span class="line"></span><br><span class="line">        </span><br><span class="line">        StringBuilder stringBuilder = <span class="keyword">new</span> StringBuilder(<span class="string">"你好,"</span>);</span><br><span class="line">        System.out.println(stringBuilder.hashCode());   <span class="comment">//1163157884</span></span><br><span class="line">        System.out.println(stringBuilder);  <span class="comment">//你好,</span></span><br><span class="line">        stringBuilder.append(<span class="string">"未来！"</span>);</span><br><span class="line">        System.out.println(stringBuilder.hashCode());   <span class="comment">//1163157884</span></span><br><span class="line">        System.out.println(stringBuilder);  <span class="comment">//你好,未来！</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="使用"><a href="#使用" class="headerlink" title="使用"></a>使用</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.young.stringtest;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> javafx.beans.binding.StringBinding;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">StringDemo02</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">        <span class="comment">/* String拼接字符串 */</span></span><br><span class="line">        <span class="keyword">long</span> begin = System.currentTimeMillis();</span><br><span class="line">        String str = <span class="string">"hello"</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;<span class="number">50000</span>;i++)&#123;</span><br><span class="line">            str =str + i;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">long</span> end = System.currentTimeMillis();</span><br><span class="line">        System.out.println(<span class="string">"String cost time:"</span> + (end - begin));    <span class="comment">//String cost time:8463</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        <span class="comment">/* StringBuffer拼接字符串 */</span></span><br><span class="line">        begin = System.currentTimeMillis();</span><br><span class="line">        StringBuffer stringBuffer = <span class="keyword">new</span> StringBuffer();</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;<span class="number">50000</span>;i++)&#123;</span><br><span class="line">            stringBuffer.append(i);</span><br><span class="line">        &#125;</span><br><span class="line">        end = System.currentTimeMillis();</span><br><span class="line">        System.out.println(<span class="string">"StringBuffer cost time:"</span> + (end - begin));  <span class="comment">//StringBuffer cost time:3</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        <span class="comment">/* StringBuilder拼接字符串 */</span></span><br><span class="line">        begin = System.currentTimeMillis();</span><br><span class="line">        StringBuilder stringBuilder = <span class="keyword">new</span> StringBuilder();</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;<span class="number">50000</span>;i++)&#123;</span><br><span class="line">            stringBuilder.append(i);</span><br><span class="line">        &#125;</span><br><span class="line">        end = System.currentTimeMillis();</span><br><span class="line">        System.out.println(<span class="string">"StringBuilder cost time:"</span> + (end - begin)); <span class="comment">//StringBuilder cost time:1</span></span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>从数据看，String花费的时间远远多于StringBuffer和StringBuilder。</p>
<h2 id="区别"><a href="#区别" class="headerlink" title="区别"></a>区别</h2><p>查看源码：</p>
<p><img alt data-src="https://yanghanblog.oss-cn-hangzhou.aliyuncs.com/img/20191118233257.png" class="lozad"></p>
<p><img alt data-src="https://yanghanblog.oss-cn-hangzhou.aliyuncs.com/img/20191118235001.png" class="lozad"></p>
<p>可以看出，</p>
<p>StringBuffer对象在进行append时，</p>
<p>​    加入了同步锁，这样保证了线程安全，但是带来的代价就是多线程时效率不高。</p>
<p>​    并且append()返回的还是原来的对象，因此<font color="red">StringBuffer从始至终都是一个对象</font>，其实这是StringBuffer在进行扩容的操作。</p>
<p>StringBuilder对象在进行append时，</p>
<p>​    没有加入同步锁，这样无法保证了线程安全，但是好处就是多线程时效率高。</p>
<p>​    并且append()返回的还是原来的对象，因此<font color="red">StringBuilder从始至终都是一个对象</font>，其实这是StringBuilder在进行扩容的操作。</p>
<p>因此相对于String来说，StringBuffer和StringBuilder的性能要好很多，因为它们始终只有一个对象，而String是保存在字符串常量池中，可能会保存非常多的对象，十分影响性能。</p>
<blockquote>
<p><strong>三者区别</strong></p>
<p>String类不可变，对象一旦被创建，其值便不可被修改，可以使用new关键字或 = 创建对象</p>
<p>StringBuffer类是可变的，对象创建后可修改，线程安全，效率低，必须使用new关键字创建对象</p>
<p>StringBuilder类是可变的，对象创建后可修改，线程不安全，效率高，必须使用new关键字创建对象</p>
<p>执行效率：StringBuilder &gt; StringBuffer &gt; String</p>
</blockquote>
<h2 id="案例"><a href="#案例" class="headerlink" title="案例"></a>案例</h2><p>将一个数字字符串转换成逗号分隔的数字串，（从右向左，每3位数一个逗号）</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">    Scanner input = <span class="keyword">new</span> Scanner(System.in);</span><br><span class="line">    System.out.print(<span class="string">"请输入数字："</span>);</span><br><span class="line">    String nums = input.next();</span><br><span class="line">    StringBuffer str = <span class="keyword">new</span> StringBuffer(nums);</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=str.length()-<span class="number">3</span>;i&gt;<span class="number">0</span>;i=i-<span class="number">3</span>)&#123;</span><br><span class="line">        str.insert(i,<span class="string">','</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    System.out.println(str);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">------------------</span><br><span class="line">请输入数字：<span class="number">1234567890</span></span><br><span class="line"><span class="number">1</span>,<span class="number">234</span>,<span class="number">567</span>,<span class="number">890</span></span><br></pre></td></tr></table></figure>

<h1 id="8种基本数据类型的包装类型"><a href="#8种基本数据类型的包装类型" class="headerlink" title="8种基本数据类型的包装类型"></a>8种基本数据类型的包装类型</h1><table>
<thead>
<tr>
<th>基本数据类型</th>
<th>包装类型</th>
</tr>
</thead>
<tbody><tr>
<td>int</td>
<td>Integer</td>
</tr>
<tr>
<td>short</td>
<td>Short</td>
</tr>
<tr>
<td>long</td>
<td>Long</td>
</tr>
<tr>
<td>float</td>
<td>Float</td>
</tr>
<tr>
<td>double</td>
<td>Double</td>
</tr>
<tr>
<td>char</td>
<td>Character</td>
</tr>
<tr>
<td>boolean</td>
<td>Boolean</td>
</tr>
<tr>
<td>byte</td>
<td>Byte</td>
</tr>
</tbody></table>
<p>使用这8个包装类，能够把某一种基本数据类型的变量转换为引用类型，这样就==可以使用类中的方法==，进行更多操作。</p>
<h2 id="装箱与拆箱"><a href="#装箱与拆箱" class="headerlink" title="装箱与拆箱"></a>装箱与拆箱</h2><ul>
<li>装箱：将基本数据类型包装成对应的包装类型</li>
<li>拆箱：将包装类型拆开成对应的基本数据类型</li>
</ul>
<h2 id="自动拆装箱"><a href="#自动拆装箱" class="headerlink" title="自动拆装箱"></a>自动拆装箱</h2><p>JDK1.5之后，可以进行自动拆装箱的操作了。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">    <span class="comment">//装箱</span></span><br><span class="line">    Integer var1 = <span class="keyword">new</span> Integer(<span class="number">10</span>); </span><br><span class="line">    <span class="comment">//拆箱</span></span><br><span class="line">    <span class="keyword">int</span> var2 = var1.intValue();</span><br><span class="line"></span><br><span class="line">    <span class="comment">//自动装箱</span></span><br><span class="line">    Integer var3 = <span class="number">12</span>;</span><br><span class="line">    <span class="comment">//自动拆箱</span></span><br><span class="line">    <span class="keyword">int</span> var4 = var3;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="⭐使用常量池"><a href="#⭐使用常量池" class="headerlink" title="⭐使用常量池"></a>⭐使用常量池</h3><p>在自动拆装箱的过程中，Java使用到了常量池。</p>
<p>需要注意的是：只有数值是<font color="blue">byte范围内（也就是<code>[-128,127]</code>）</font>的时候，才使用到常量池，否则都是分配新的内存空间</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        </span><br><span class="line">    <span class="comment">//手动装箱</span></span><br><span class="line">    Integer i3 = <span class="keyword">new</span> Integer(<span class="number">11</span>);</span><br><span class="line">    Integer i4 = <span class="keyword">new</span> Integer(<span class="number">11</span>);</span><br><span class="line">    System.out.println(i3 == i4);   <span class="comment">//false</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">//自动装箱</span></span><br><span class="line">    Integer i1 = <span class="number">11</span>;</span><br><span class="line">    Integer i2 = <span class="number">11</span>;</span><br><span class="line">    System.out.println(i1 == i2);   <span class="comment">//true</span></span><br><span class="line"></span><br><span class="line">    Integer i5 = <span class="number">128</span>;   <span class="comment">//超出byte范围，将分配新的内存空间</span></span><br><span class="line">    Integer i6 = <span class="number">128</span>;</span><br><span class="line">    System.out.println(i5 == i6);   <span class="comment">//false</span></span><br><span class="line"></span><br><span class="line">    Integer i7 = -<span class="number">128</span>;</span><br><span class="line">    Integer i8 = -<span class="number">128</span>;</span><br><span class="line">    System.out.println(i7 == i8);   <span class="comment">//true</span></span><br><span class="line"></span><br><span class="line">    Integer i9 = -<span class="number">129</span>;</span><br><span class="line">    Integer i10 = -<span class="number">129</span>;</span><br><span class="line">    System.out.println(i9 == i10);   <span class="comment">//false</span></span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

</div></article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">文章作者: </span><span class="post-copyright-info"><a href="mailto:undefined">杨涵</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">文章链接: </span><span class="post-copyright-info"><a href="https://cometorbityh.github.io/2019/11/18/JAVA-String类/">https://cometorbityh.github.io/2019/11/18/JAVA-String类/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="https://cometorbityh.github.io">MY</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"></div><div class="post_share"><div class="social-share" data-image="https://cdn.jsdelivr.net/gh/jerryc127/CDN@latest/Photo/avatar.png" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/social-share.js@1.0.16/dist/css/share.min.css"><script src="https://cdn.jsdelivr.net/npm/social-share.js@1.0.16/dist/js/social-share.min.js"></script></div></div><div class="post-reward"><a class="reward-button"><i class="fa fa-qrcode"></i> 打赏<div class="reward-main"><ul class="reward-all"><li class="reward-item"><img class="lozad post-qr-code__img" src="/img/wechat.jpg"><div class="post-qr-code__desc">微信</div></li><li class="reward-item"><img class="lozad post-qr-code__img" src="/img/alipay.jpg"><div class="post-qr-code__desc">支付寶</div></li></ul></div></a></div><nav class="pagination_post" id="pagination"><div class="prev-post pull-left"><a href="/2019/11/19/JAVA-Object-常见方法概述/"><img class="prev_cover lozad" data-src="undefined" onerror="onerror=null;src='/img/comment_bg.png'"><div class="label">上一篇</div><div class="prev_info"><span>JAVA Object:常见方法概述</span></div></a></div><div class="next-post pull-right"><a href="/2019/11/18/CET6-CORE-1/"><img class="next_cover lozad" data-src="undefined" onerror="onerror=null;src='/img/comment_bg.png'"><div class="label">下一篇</div><div class="next_info"><span>CET6 CORE (1)</span></div></a></div></nav></div></div><footer><div id="footer"><div class="copyright">&copy;2018 - 2020 By 杨涵</div><div class="framework-info"><span>驱动 </span><a href="http://hexo.io"><span>Hexo</span></a><span class="footer-separator">|</span><span>主题 </span><a href="https://github.com/jerryc127/hexo-theme-butterfly"><span>Butterfly</span></a></div></div></footer></div><section class="rightside" id="rightside"><div id="rightside-config-hide"><i class="fa fa-book" id="readmode" title="阅读模式"></i><i class="fa fa-plus" id="font_plus" title="放大字体"></i><i class="fa fa-minus" id="font_minus" title="缩小字体"></i><a class="translate_chn_to_cht" id="translateLink" href="javascript:translatePage();" title="简繁转换">繁</a><i class="nightshift fa fa-moon-o" id="nightshift" title="夜间模式"></i></div><div id="rightside-config-show"><div id="rightside_config" title="设置"><i class="fa fa-cog" aria-hidden="true"></i></div><a id="to_comment" href="#post-comment" title="直达评论"><i class="scroll_to_comment fa fa-comments">  </i></a><i class="fa fa-list-ul close" id="mobile-toc-button" title="目录" aria-hidden="true"></i><i class="fa fa-arrow-up" id="go-up" title="回到顶部" aria-hidden="true"></i></div></section><script src="https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.js"></script><script src="https://cdn.jsdelivr.net/npm/js-cookie@2/src/js.cookie.min.js"></script><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="https://cdn.jsdelivr.net/npm/animejs@latest/anime.min.js"></script><script src="/js/third-party/fireworks.js"></script><script src="/js/nightshift.js"></script><script src="/js/tw_cn.js"></script><script>translateInitilization()

</script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script src="https://cdn.jsdelivr.net/npm/instant.page@1.2.2/instantpage.min.js" type="module"></script><script src="https://cdn.jsdelivr.net/npm/lozad/dist/lozad.min.js"></script><script>const observer = lozad(); // lazy loads elements with default selector as '.lozad'
observer.observe();
</script></body></html>