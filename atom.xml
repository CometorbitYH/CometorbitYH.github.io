<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>Young Blog</title>
  
  <subtitle>一只在学习中不断成长的小白</subtitle>
  <link href="/atom.xml" rel="self"/>
  
  <link href="https://cometorbityh.github.io/"/>
  <updated>2019-08-30T08:43:22.933Z</updated>
  <id>https://cometorbityh.github.io/</id>
  
  <author>
    <name>杨涵</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>JSP——JSTL</title>
    <link href="https://cometorbityh.github.io/2019/08/30/JSP%E2%80%94%E2%80%94JSTL/"/>
    <id>https://cometorbityh.github.io/2019/08/30/JSP——JSTL/</id>
    <published>2019-08-30T08:22:01.000Z</published>
    <updated>2019-08-30T08:43:22.933Z</updated>
    
    <content type="html"><![CDATA[<h2 id="核心标签库"><a href="#核心标签库" class="headerlink" title="核心标签库"></a>核心标签库</h2><h2 id="格式化标签库"><a href="#格式化标签库" class="headerlink" title="格式化标签库"></a>格式化标签库</h2><h3 id="格式化标签库-1"><a href="#格式化标签库-1" class="headerlink" title="格式化标签库"></a>格式化标签库</h3><h4 id="c-set"><a href="#c-set" class="headerlink" title="c:set"></a>c:set</h4><h4 id="c-remove"><a href="#c-remove" class="headerlink" title="c:remove"></a>c:remove</h4><h4 id="c-out"><a href="#c-out" class="headerlink" title="c:out"></a>c:out</h4><h4 id="c-catch"><a href="#c-catch" class="headerlink" title="c:catch"></a>c:catch</h4><h4 id="c-if"><a href="#c-if" class="headerlink" title="c:if"></a>c:if</h4><h4 id="c-choose"><a href="#c-choose" class="headerlink" title="c:choose"></a>c:choose</h4><h4 id="c-forEach"><a href="#c-forEach" class="headerlink" title="c:forEach"></a>c:forEach</h4><p>## </p><p>## </p><p>## </p><p>#### </p><p>## </p><p>#### </p><h2 id="3-EL函数标签库"><a href="#3-EL函数标签库" class="headerlink" title="3  EL函数标签库"></a>3  EL函数标签库</h2><h2 id="4-XML操作标签库"><a href="#4-XML操作标签库" class="headerlink" title="4  XML操作标签库"></a>4  XML操作标签库</h2><h2 id="5-SQL操作标签库"><a href="#5-SQL操作标签库" class="headerlink" title="5  SQL操作标签库"></a>5  SQL操作标签库</h2>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;核心标签库&quot;&gt;&lt;a href=&quot;#核心标签库&quot; class=&quot;headerlink&quot; title=&quot;核心标签库&quot;&gt;&lt;/a&gt;核心标签库&lt;/h2&gt;&lt;h2 id=&quot;格式化标签库&quot;&gt;&lt;a href=&quot;#格式化标签库&quot; class=&quot;headerlink&quot; title=&quot;格
      
    
    </summary>
    
      <category term="JavaWeb" scheme="https://cometorbityh.github.io/categories/JavaWeb/"/>
    
    
      <category term="JSP" scheme="https://cometorbityh.github.io/tags/JSP/"/>
    
      <category term="JavaWeb" scheme="https://cometorbityh.github.io/tags/JavaWeb/"/>
    
  </entry>
  
  <entry>
    <title>JSP——自定义标签</title>
    <link href="https://cometorbityh.github.io/2019/08/28/JSP%E2%80%94%E2%80%94%E8%87%AA%E5%AE%9A%E4%B9%89%E6%A0%87%E7%AD%BE/"/>
    <id>https://cometorbityh.github.io/2019/08/28/JSP——自定义标签/</id>
    <published>2019-08-28T11:59:55.000Z</published>
    <updated>2019-08-30T08:49:28.154Z</updated>
    
    <content type="html"><![CDATA[<h3 id="1-自定义标签"><a href="#1-自定义标签" class="headerlink" title="1 自定义标签"></a>1 自定义标签</h3><p>自定义标签是为了简化代码。使用自定义标签<strong>替换一个java代码片段</strong>，完成相同功能。<a id="more"></a></p><blockquote><p><strong>自定义标签的步骤：</strong></p><ol><li>定义标签处理器——定义一个类，继承SimpleTagSupport类，重写doTag( )方法</li><li>注册标签库，注册标签</li><li>导入标签库，使用标签</li></ol></blockquote><p>下面举2个案例来说明自定义标签。</p><h3 id="2-定义带标签体的自定义标签"><a href="#2-定义带标签体的自定义标签" class="headerlink" title="2  定义带标签体的自定义标签"></a>2  定义带标签体的自定义标签</h3><p>（使用无标签体的标签完成：输出客户端IP）</p><p>（使用有标签体的标签完成：小写转大写）</p><h4 id="2-1-定义标签处理器"><a href="#2-1-定义标签处理器" class="headerlink" title="2-1  定义标签处理器"></a>2-1  定义标签处理器</h4><blockquote><p>一个标签对应着一个类的一段代码。</p><p>一个类要实现自定义标签的功能，需要该类实现一个接口：Javax.servlet.jsp.tagext.SimpleTag，该接口有5个需要实现的方法，此时该类被称为<strong>标签处理器类</strong>。</p><p><img src="http://pww25zpix.bkt.clouddn.com/jsp/AutoDefinedTag_02_01.png" alt="SimpleTag接口"></p></blockquote><blockquote><p>​                <img src="http://pww25zpix.bkt.clouddn.com/jsp/AutoDefinedTag_02_02.png" alt="SimpleTag接口的5个方法"></p></blockquote><blockquote><p><img src="http://pww25zpix.bkt.clouddn.com/jsp/AutoDefinedTag_02_03.png" alt="SimpleTagSupport类实现SimpleTag接口"></p></blockquote><blockquote><p><img src="http://pww25zpix.bkt.clouddn.com/jsp/AutoDefinedTag_02_04.png" alt="SimpleTagSupport类的方法"></p></blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.orbit.tag;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> javax.servlet.ServletRequest;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.jsp.JspContext;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.jsp.JspException;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.jsp.JspWriter;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.jsp.PageContext;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.jsp.tagext.SimpleTagSupport;</span><br><span class="line"></span><br><span class="line"><span class="comment">//定义标签处理器：获取客户端IP</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ClientIPTag</span> <span class="keyword">extends</span> <span class="title">SimpleTagSupport</span></span>&#123;</span><br><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">doTag</span><span class="params">()</span> <span class="keyword">throws</span> JspException, IOException </span>&#123;</span><br><span class="line"><span class="comment">//获取PageContext对象</span></span><br><span class="line">PageContext pc = (PageContext) <span class="keyword">this</span>.getJspContext();</span><br><span class="line"><span class="comment">//获取请求对象</span></span><br><span class="line">ServletRequest request = pc.getRequest();</span><br><span class="line"><span class="comment">//获取客户端IP</span></span><br><span class="line">String ClientIp = request.getRemoteAddr();</span><br><span class="line"><span class="comment">//获取标准输出流</span></span><br><span class="line">JspWriter out = pc.getOut();</span><br><span class="line"><span class="comment">//将客户端IP写入到输出流中</span></span><br><span class="line">out.print(ClientIp);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.orbit.tag;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="keyword">import</span> java.io.StringWriter;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> javax.servlet.jsp.JspException;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.jsp.JspWriter;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.jsp.tagext.JspFragment;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.jsp.tagext.SimpleTagSupport;</span><br><span class="line"><span class="comment">//定义标签处理器：小写转大写</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">LowerToUpper</span> <span class="keyword">extends</span> <span class="title">SimpleTagSupport</span></span>&#123;</span><br><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">doTag</span><span class="params">()</span> <span class="keyword">throws</span> JspException, IOException </span>&#123;</span><br><span class="line"></span><br><span class="line"><span class="comment">//创建一个输出流，该流中的内容可以通过其toString()方法获取到文本形式</span></span><br><span class="line">StringWriter sw = <span class="keyword">new</span> StringWriter();</span><br><span class="line"><span class="comment">//获取标签体对象</span></span><br><span class="line">JspFragment jspBody = <span class="keyword">this</span>.getJspBody();</span><br><span class="line"><span class="comment">//将标签体内容写入到输出流中</span></span><br><span class="line">jspBody.invoke(sw);</span><br><span class="line"><span class="comment">//以文本形式获取到输出流中的内容</span></span><br><span class="line">String content = sw.toString();</span><br><span class="line"><span class="comment">//小写变大写</span></span><br><span class="line">content = content.toUpperCase();</span><br><span class="line"><span class="comment">//将文本写入到标准输出流并打印</span></span><br><span class="line"><span class="keyword">this</span>.getJspContext().getOut().print(content);;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="2-2-定义标签库，注册标签"><a href="#2-2-定义标签库，注册标签" class="headerlink" title="2-2  定义标签库，注册标签"></a>2-2  定义标签库，注册标签</h4><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">taglib</span> <span class="attr">xmlns</span>=<span class="string">"http://java.sun.com/xml/ns/j2ee"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">xmlns:xsi</span>=<span class="string">"http://www.w3.org/2001/XMLSchema-instance"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">xsi:schemaLocation</span>=<span class="string">"http://java.sun.com/xml/ns/j2ee </span></span></span><br><span class="line"><span class="tag"><span class="string">    http://java.sun.com/xml/ns/j2ee/web-jsptaglibrary_2_0.xsd"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">version</span>=<span class="string">"2.0"</span>&gt;</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">&lt;!-- 注册标签库 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">tlib-version</span>&gt;</span>1.0<span class="tag">&lt;/<span class="name">tlib-version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">short-name</span>&gt;</span>tag<span class="tag">&lt;/<span class="name">short-name</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">uri</span>&gt;</span>http://www.orbit.com/jsp/AutoDefinedTag<span class="tag">&lt;/<span class="name">uri</span>&gt;</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">&lt;!-- 注册标签 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">tag</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">name</span>&gt;</span>clientIP<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">tag-class</span>&gt;</span>com.orbit.tag.ClientIPTag<span class="tag">&lt;/<span class="name">tag-class</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">body-content</span>&gt;</span>empty<span class="tag">&lt;/<span class="name">body-content</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">tag</span>&gt;</span></span><br><span class="line">    </span><br><span class="line">    <span class="tag">&lt;<span class="name">tag</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">name</span>&gt;</span>LowerToUpper<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">tag-class</span>&gt;</span>com.orbit.tag.LowerToUpper<span class="tag">&lt;/<span class="name">tag-class</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">body-content</span>&gt;</span>scriptless<span class="tag">&lt;/<span class="name">body-content</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">tag</span>&gt;</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">&lt;!-- </span></span><br><span class="line"><span class="comment">    empty:当前标签没有标签体</span></span><br><span class="line"><span class="comment">    scriptless:当前标签有标签体，但该标签中不能出现Java脚本，可以出现EL表达式</span></span><br><span class="line"><span class="comment">    jsp:(已过时)，当前标签具有标签体，标签体内容原样显示到浏览器</span></span><br><span class="line"><span class="comment">    tagdependent:当前标签有标签体，标签体内容原样显示到浏览器，即使是EL也一样</span></span><br><span class="line"><span class="comment">    </span></span><br><span class="line"><span class="comment">     --&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">taglib</span>&gt;</span></span><br></pre></td></tr></table></figure><h4 id="2-3-导入标签库，使用标签"><a href="#2-3-导入标签库，使用标签" class="headerlink" title="2-3  导入标签库，使用标签"></a>2-3  导入标签库，使用标签</h4><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">&lt;%@ page pageEncoding=<span class="string">"UTF-8"</span>%&gt;</span><br><span class="line">&lt;%@ taglib uri=<span class="string">"http://www.orbit.com/jsp/AutoDefinedTag"</span> prefix=<span class="string">"tag"</span>%&gt;</span><br><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">&lt;meta charset=<span class="string">"UTF-8"</span>&gt;</span><br><span class="line">&lt;title&gt;Insert title here&lt;/title&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">&lt;!-- 使用Java代码块获取IP --&gt;</span><br><span class="line">&lt;%</span><br><span class="line">String ip = request.getRemoteAddr();</span><br><span class="line">out.println(<span class="string">"ip = "</span> + ip);</span><br><span class="line">%&gt;&lt;br/&gt;</span><br><span class="line">&lt;!-- 使用无标签体的自定义标签获取IP --&gt;</span><br><span class="line">ip = &lt;tag:clientIP/&gt;&lt;br/&gt;</span><br><span class="line"></span><br><span class="line">&lt;!-- 使用有标签体的自定义标签完成小写转大写 --&gt;</span><br><span class="line">&lt;%</span><br><span class="line">String s = <span class="string">"abc"</span>;</span><br><span class="line">pageContext.setAttribute(<span class="string">"s"</span>, s);</span><br><span class="line">%&gt;</span><br><span class="line">&lt;tag:LowerToUpper&gt;$&#123;s&#125;&lt;/tag:LowerToUpper&gt;&lt;br/&gt;</span><br><span class="line">&lt;tag:LowerToUpper&gt;are you kidding me?&lt;/tag:LowerToUpper&gt;</span><br><span class="line"></span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure><h4 id="2-4-输出结果"><a href="#2-4-输出结果" class="headerlink" title="2-4  输出结果"></a>2-4  输出结果</h4><p><img src="http://pww25zpix.bkt.clouddn.com/jsp/AutoDefinedTag_02_07.png" alt></p><h3 id="3-定义带属性的自定义标签"><a href="#3-定义带属性的自定义标签" class="headerlink" title="3  定义带属性的自定义标签"></a>3  定义带属性的自定义标签</h3><h4 id="3-1-定义标签处理器"><a href="#3-1-定义标签处理器" class="headerlink" title="3-1  定义标签处理器"></a>3-1  定义标签处理器</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.orbit.tag;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> javax.servlet.jsp.JspException;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.jsp.tagext.JspFragment;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.jsp.tagext.SimpleTagSupport;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">IfTag</span> <span class="keyword">extends</span> <span class="title">SimpleTagSupport</span></span>&#123;</span><br><span class="line"><span class="keyword">private</span> <span class="keyword">boolean</span> test;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setTest</span><span class="params">(<span class="keyword">boolean</span> test)</span> </span>&#123;</span><br><span class="line"><span class="keyword">this</span>.test = test;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">doTag</span><span class="params">()</span> <span class="keyword">throws</span> JspException, IOException </span>&#123;</span><br><span class="line"><span class="keyword">if</span>(test) &#123;</span><br><span class="line"><span class="comment">////获取标签体对象</span></span><br><span class="line"><span class="comment">//JspFragment jspBody = this.getJspBody();</span></span><br><span class="line"><span class="comment">////将标签体加入到输出流</span></span><br><span class="line"><span class="comment">//jspBody.invoke(this.getJspContext().getOut());</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//invoke(null)等价于invoke(this.getJspContext().getOut())</span></span><br><span class="line"><span class="keyword">this</span>.getJspBody().invoke(<span class="keyword">null</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="3-2-定义标签库，注册标签"><a href="#3-2-定义标签库，注册标签" class="headerlink" title="3-2  定义标签库，注册标签"></a>3-2  定义标签库，注册标签</h4><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">taglib</span> <span class="attr">xmlns</span>=<span class="string">"http://java.sun.com/xml/ns/j2ee"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">xmlns:xsi</span>=<span class="string">"http://www.w3.org/2001/XMLSchema-instance"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">xsi:schemaLocation</span>=<span class="string">"http://java.sun.com/xml/ns/j2ee </span></span></span><br><span class="line"><span class="tag"><span class="string">    http://java.sun.com/xml/ns/j2ee/web-jsptaglibrary_2_0.xsd"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">version</span>=<span class="string">"2.0"</span>&gt;</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">&lt;!-- 注册标签库 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">tlib-version</span>&gt;</span>1.0<span class="tag">&lt;/<span class="name">tlib-version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">short-name</span>&gt;</span>tag<span class="tag">&lt;/<span class="name">short-name</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">uri</span>&gt;</span>http://www.orbit.com/jsp/AutoDefinedTag<span class="tag">&lt;/<span class="name">uri</span>&gt;</span></span><br><span class="line"></span><br><span class="line">     </span><br><span class="line">      <span class="tag">&lt;<span class="name">tag</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">name</span>&gt;</span>if<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">tag-class</span>&gt;</span>com.orbit.tag.IfTag<span class="tag">&lt;/<span class="name">tag-class</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">body-content</span>&gt;</span>tagdependent<span class="tag">&lt;/<span class="name">body-content</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">attribute</span>&gt;</span><span class="comment">&lt;!-- 标签的属性 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">name</span>&gt;</span>test<span class="tag">&lt;/<span class="name">name</span>&gt;</span><span class="comment">&lt;!-- 属性名 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">required</span>&gt;</span>true<span class="tag">&lt;/<span class="name">required</span>&gt;</span><span class="comment">&lt;!-- true表示调用该标签时，必须要写该属性 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">rtexprvalue</span>&gt;</span>true<span class="tag">&lt;/<span class="name">rtexprvalue</span>&gt;</span><span class="comment">&lt;!-- runtime expression value运行时表达式值，true表示该属性的值支持EL与JSP表达式 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">attribute</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">tag</span>&gt;</span></span><br><span class="line">     </span><br><span class="line"><span class="tag">&lt;/<span class="name">taglib</span>&gt;</span></span><br></pre></td></tr></table></figure><h4 id="3-3-导入标签库，使用标签"><a href="#3-3-导入标签库，使用标签" class="headerlink" title="3-3  导入标签库，使用标签"></a>3-3  导入标签库，使用标签</h4><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">&lt;%@ page pageEncoding=<span class="string">"UTF-8"</span>%&gt;</span><br><span class="line">&lt;%@ taglib uri=<span class="string">"http://www.orbit.com/jsp/AutoDefinedTag"</span> prefix=<span class="string">"tag"</span>%&gt;</span><br><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">&lt;meta charset=<span class="string">"UTF-8"</span>&gt;</span><br><span class="line">&lt;title&gt;Insert title here&lt;/title&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&lt;!-- 使用带属性的自定义标签 --&gt;</span><br><span class="line">&lt;%</span><br><span class="line"><span class="keyword">boolean</span> gender = <span class="keyword">true</span>;</span><br><span class="line">pageContext.setAttribute(<span class="string">"gender"</span>, gender);</span><br><span class="line">%&gt;</span><br><span class="line">&lt;tag:if test="$&#123;gender &#125;"&gt;男&lt;/tag:if&gt;</span><br><span class="line">&lt;tag:if test="$&#123;not gender &#125;"&gt;女&lt;/tag:if&gt;</span><br><span class="line"></span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure><pre><code>#### 3-4  输出结果</code></pre><p><img src="http://pww25zpix.bkt.clouddn.com/jsp/AutoDefinedTag_02_08.png" alt></p><h3 id="4-自定义遍历List集合的forEachList标签"><a href="#4-自定义遍历List集合的forEachList标签" class="headerlink" title="4  自定义遍历List集合的forEachList标签"></a>4  自定义遍历List集合的forEachList标签</h3><h4 id="4-1-定义标签处理器"><a href="#4-1-定义标签处理器" class="headerlink" title="4-1  定义标签处理器"></a>4-1  定义标签处理器</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.orbit.tag;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> javax.servlet.jsp.JspException;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.jsp.tagext.SimpleTagSupport;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ForEachListTag</span> <span class="keyword">extends</span> <span class="title">SimpleTagSupport</span></span>&#123;</span><br><span class="line"><span class="keyword">private</span> List items;</span><br><span class="line"><span class="keyword">private</span> String <span class="keyword">var</span>;<span class="comment">//var代表当前对象要放入域中的属性名</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setItems</span><span class="params">(List items)</span> </span>&#123;</span><br><span class="line"><span class="keyword">this</span>.items = items;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setVar</span><span class="params">(String <span class="keyword">var</span>)</span> </span>&#123;</span><br><span class="line"><span class="keyword">this</span>.<span class="keyword">var</span> = <span class="keyword">var</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">doTag</span><span class="params">()</span> <span class="keyword">throws</span> JspException, IOException </span>&#123;</span><br><span class="line"><span class="keyword">for</span> (Object obj : items) &#123;</span><br><span class="line"><span class="comment">//EL只能处理四大域中的数据，因此将该遍历对象放入到四大域中</span></span><br><span class="line"><span class="comment">//key为var指定的名称（name）,value为当前遍历对象obj</span></span><br><span class="line"><span class="keyword">this</span>.getJspContext().setAttribute(<span class="keyword">var</span>, obj);</span><br><span class="line"><span class="keyword">this</span>.getJspBody().invoke(<span class="keyword">null</span>);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="4-2-定义标签库，注册标签"><a href="#4-2-定义标签库，注册标签" class="headerlink" title="4-2  定义标签库，注册标签"></a>4-2  定义标签库，注册标签</h4><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">taglib</span> <span class="attr">xmlns</span>=<span class="string">"http://java.sun.com/xml/ns/j2ee"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">xmlns:xsi</span>=<span class="string">"http://www.w3.org/2001/XMLSchema-instance"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">xsi:schemaLocation</span>=<span class="string">"http://java.sun.com/xml/ns/j2ee </span></span></span><br><span class="line"><span class="tag"><span class="string">    http://java.sun.com/xml/ns/j2ee/web-jsptaglibrary_2_0.xsd"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">version</span>=<span class="string">"2.0"</span>&gt;</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">&lt;!-- 注册标签库 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">tlib-version</span>&gt;</span>1.0<span class="tag">&lt;/<span class="name">tlib-version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">short-name</span>&gt;</span>tag<span class="tag">&lt;/<span class="name">short-name</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">uri</span>&gt;</span>http://www.orbit.com/jsp/AutoDefinedTag<span class="tag">&lt;/<span class="name">uri</span>&gt;</span></span><br><span class="line"></span><br><span class="line">     </span><br><span class="line">      <span class="tag">&lt;<span class="name">tag</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">name</span>&gt;</span>forEachList<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">tag-class</span>&gt;</span>com.orbit.tag.ForEachListTag<span class="tag">&lt;/<span class="name">tag-class</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">body-content</span>&gt;</span>scriptless<span class="tag">&lt;/<span class="name">body-content</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">attribute</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">name</span>&gt;</span>items<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">required</span>&gt;</span>true<span class="tag">&lt;/<span class="name">required</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">rtexprvalue</span>&gt;</span>true<span class="tag">&lt;/<span class="name">rtexprvalue</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">attribute</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">attribute</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">name</span>&gt;</span>var<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">required</span>&gt;</span>true<span class="tag">&lt;/<span class="name">required</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">rtexprvalue</span>&gt;</span>false<span class="tag">&lt;/<span class="name">rtexprvalue</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">attribute</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">tag</span>&gt;</span></span><br><span class="line">     </span><br><span class="line"><span class="tag">&lt;/<span class="name">taglib</span>&gt;</span></span><br></pre></td></tr></table></figure><h4 id="4-3-导入标签库，使用标签"><a href="#4-3-导入标签库，使用标签" class="headerlink" title="4-3  导入标签库，使用标签"></a>4-3  导入标签库，使用标签</h4><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">&lt;%@ page pageEncoding=<span class="string">"UTF-8"</span> <span class="keyword">import</span>=<span class="string">"java.util.*"</span>%&gt;</span><br><span class="line">&lt;%@ taglib uri=<span class="string">"http://www.orbit.com/jsp/AutoDefinedTag"</span> prefix=<span class="string">"tag"</span>%&gt;</span><br><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">&lt;meta charset=<span class="string">"UTF-8"</span>&gt;</span><br><span class="line">&lt;title&gt;Insert title here&lt;/title&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&lt;!-- 自定义标签 --&gt;</span><br><span class="line">&lt;%</span><br><span class="line">List&lt;String&gt; names = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">names.add(<span class="string">"熊大"</span>);</span><br><span class="line">names.add(<span class="string">"熊二"</span>);</span><br><span class="line">names.add(<span class="string">"光头强"</span>);</span><br><span class="line">pageContext.setAttribute(<span class="string">"names"</span>, names);</span><br><span class="line">%&gt;</span><br><span class="line">&lt;!-- items表示names这个数组，<span class="keyword">var</span>表示names中的属性name --&gt;</span><br><span class="line">&lt;tag:forEachList items=<span class="string">"$&#123;names &#125;"</span> <span class="keyword">var</span>=<span class="string">"name"</span>&gt;</span><br><span class="line">$&#123;name &#125; &lt;br/&gt;&lt;/tag:forEachList&gt;</span><br><span class="line"></span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure><h4 id="4-4-输出结果"><a href="#4-4-输出结果" class="headerlink" title="4-4  输出结果"></a>4-4  输出结果</h4><p><img src="http://pww25zpix.bkt.clouddn.com/jsp/AutoDefinedTag_02_09.png" alt></p><h3 id="5-自定义遍历集合和数组的forEach标签"><a href="#5-自定义遍历集合和数组的forEach标签" class="headerlink" title="5 自定义遍历集合和数组的forEach标签"></a>5 自定义遍历集合和数组的forEach标签</h3><h4 id="5-1-定义标签处理器"><a href="#5-1-定义标签处理器" class="headerlink" title="5-1  定义标签处理器"></a>5-1  定义标签处理器</h4><p>(方法一)</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.orbit.tag;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="keyword">import</span> java.util.*;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> javax.servlet.jsp.JspException;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.jsp.tagext.SimpleTagSupport;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ForEachTag</span> <span class="keyword">extends</span> <span class="title">SimpleTagSupport</span></span>&#123;</span><br><span class="line"><span class="comment">//无论items是集合还是数组，他们的父类都是Object</span></span><br><span class="line"><span class="keyword">private</span> Object items;</span><br><span class="line"><span class="keyword">private</span> String <span class="keyword">var</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setItems</span><span class="params">(Object items)</span> </span>&#123;</span><br><span class="line"><span class="keyword">this</span>.items = items;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setVar</span><span class="params">(String <span class="keyword">var</span>)</span> </span>&#123;</span><br><span class="line"><span class="keyword">this</span>.<span class="keyword">var</span> = <span class="keyword">var</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">doTag</span><span class="params">()</span> <span class="keyword">throws</span> JspException, IOException </span>&#123;</span><br><span class="line"><span class="comment">//判断items的类型</span></span><br><span class="line"><span class="keyword">if</span>(items <span class="keyword">instanceof</span> List) &#123;</span><br><span class="line">List itemsList = (List) items;</span><br><span class="line"><span class="keyword">for</span> (Object obj : itemsList) &#123;</span><br><span class="line"><span class="keyword">this</span>.getJspContext().setAttribute(<span class="keyword">var</span>, obj);</span><br><span class="line"><span class="keyword">this</span>.getJspBody().invoke(<span class="keyword">null</span>);</span><br><span class="line">&#125;</span><br><span class="line">&#125;<span class="keyword">else</span> <span class="keyword">if</span>(items <span class="keyword">instanceof</span> Set) &#123;</span><br><span class="line">Set itemsSet = (Set) items;</span><br><span class="line"><span class="keyword">for</span> (Object obj : itemsSet) &#123;</span><br><span class="line"><span class="keyword">this</span>.getJspContext().setAttribute(<span class="keyword">var</span>, obj);</span><br><span class="line"><span class="keyword">this</span>.getJspBody().invoke(<span class="keyword">null</span>);</span><br><span class="line">&#125;</span><br><span class="line">&#125;<span class="keyword">else</span> <span class="keyword">if</span>(items <span class="keyword">instanceof</span> Map) &#123;</span><br><span class="line">Map itemsMap = (Map) items;</span><br><span class="line"><span class="keyword">for</span> (Object obj : itemsMap.entrySet()) &#123;</span><br><span class="line"><span class="keyword">this</span>.getJspContext().setAttribute(<span class="keyword">var</span>, obj);</span><br><span class="line"><span class="keyword">this</span>.getJspBody().invoke(<span class="keyword">null</span>);</span><br><span class="line">&#125;</span><br><span class="line">&#125;<span class="keyword">else</span> <span class="keyword">if</span>(items <span class="keyword">instanceof</span> Object[]) &#123;</span><br><span class="line">Object[] itemsObject = (Object[]) items;</span><br><span class="line"><span class="keyword">for</span> (Object obj : itemsObject) &#123;</span><br><span class="line"><span class="keyword">this</span>.getJspContext().setAttribute(<span class="keyword">var</span>, obj);</span><br><span class="line"><span class="keyword">this</span>.getJspBody().invoke(<span class="keyword">null</span>);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>（方法二）</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.orbit.tag;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="keyword">import</span> java.lang.reflect.Array;</span><br><span class="line"><span class="keyword">import</span> java.util.*;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> javax.servlet.jsp.JspException;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.jsp.tagext.SimpleTagSupport;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ForEachTag</span> <span class="keyword">extends</span> <span class="title">SimpleTagSupport</span></span>&#123;</span><br><span class="line"><span class="comment">//无论items是集合还是数组，他们的父类都是Object</span></span><br><span class="line"><span class="keyword">private</span> Object items;</span><br><span class="line"><span class="keyword">private</span> String <span class="keyword">var</span>;</span><br><span class="line"><span class="comment">//private Collection coll;</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setItems</span><span class="params">(Object items)</span> </span>&#123;</span><br><span class="line"><span class="keyword">this</span>.items = items;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setVar</span><span class="params">(String <span class="keyword">var</span>)</span> </span>&#123;</span><br><span class="line"><span class="keyword">this</span>.<span class="keyword">var</span> = <span class="keyword">var</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> Collection <span class="title">getColl</span><span class="params">()</span> </span>&#123;</span><br><span class="line"><span class="keyword">if</span>(items <span class="keyword">instanceof</span> List) &#123;</span><br><span class="line"><span class="keyword">return</span> (List) items;</span><br><span class="line">&#125;<span class="keyword">else</span> <span class="keyword">if</span>(items <span class="keyword">instanceof</span> Set) &#123;</span><br><span class="line"><span class="keyword">return</span> (Set) items;</span><br><span class="line">&#125;<span class="keyword">else</span> <span class="keyword">if</span>(items <span class="keyword">instanceof</span> Map) &#123;</span><br><span class="line"><span class="keyword">return</span> ((Map) items).entrySet();</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/*该方法只能遍历非基本数据类型的数组*/</span></span><br><span class="line"><span class="comment">//else if(items instanceof Object[]) &#123;</span></span><br><span class="line"><span class="comment">////将items强转为数组，数组再转为List集合（因为返回值是集合类型）</span></span><br><span class="line"><span class="comment">//return Arrays.asList((Object[])items);</span></span><br><span class="line"><span class="comment">//&#125;</span></span><br><span class="line"><span class="comment">/*该方法能遍历任何数组*/</span></span><br><span class="line"><span class="keyword">else</span> <span class="keyword">if</span>(items.getClass().isArray()) &#123;</span><br><span class="line">List nums = <span class="keyword">new</span> ArrayList();</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i =<span class="number">0</span>;i&lt;Array.getLength(items);i++) &#123;</span><br><span class="line">nums.add(Array.get(items, i));  </span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> nums;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">doTag</span><span class="params">()</span> <span class="keyword">throws</span> JspException, IOException </span>&#123;</span><br><span class="line"></span><br><span class="line"><span class="comment">//遍历getColl()的返回值</span></span><br><span class="line"><span class="keyword">for</span> (Object obj : getColl()) &#123;</span><br><span class="line"><span class="keyword">this</span>.getJspContext().setAttribute(<span class="keyword">var</span>, obj);</span><br><span class="line"><span class="keyword">this</span>.getJspBody().invoke(<span class="keyword">null</span>);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="5-2-定义标签库，注册标签"><a href="#5-2-定义标签库，注册标签" class="headerlink" title="5-2  定义标签库，注册标签"></a>5-2  定义标签库，注册标签</h4><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">taglib</span> <span class="attr">xmlns</span>=<span class="string">"http://java.sun.com/xml/ns/j2ee"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">xmlns:xsi</span>=<span class="string">"http://www.w3.org/2001/XMLSchema-instance"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">xsi:schemaLocation</span>=<span class="string">"http://java.sun.com/xml/ns/j2ee </span></span></span><br><span class="line"><span class="tag"><span class="string">    http://java.sun.com/xml/ns/j2ee/web-jsptaglibrary_2_0.xsd"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">version</span>=<span class="string">"2.0"</span>&gt;</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">&lt;!-- 注册标签库 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">tlib-version</span>&gt;</span>1.0<span class="tag">&lt;/<span class="name">tlib-version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">short-name</span>&gt;</span>tag<span class="tag">&lt;/<span class="name">short-name</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">uri</span>&gt;</span>http://www.orbit.com/jsp/AutoDefinedTag<span class="tag">&lt;/<span class="name">uri</span>&gt;</span></span><br><span class="line"></span><br><span class="line">     </span><br><span class="line">      <span class="tag">&lt;<span class="name">tag</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">name</span>&gt;</span>forEach<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">tag-class</span>&gt;</span>com.orbit.tag.ForEachTag<span class="tag">&lt;/<span class="name">tag-class</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">body-content</span>&gt;</span>scriptless<span class="tag">&lt;/<span class="name">body-content</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">attribute</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">name</span>&gt;</span>items<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">required</span>&gt;</span>true<span class="tag">&lt;/<span class="name">required</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">rtexprvalue</span>&gt;</span>true<span class="tag">&lt;/<span class="name">rtexprvalue</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">attribute</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">attribute</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">name</span>&gt;</span>var<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">required</span>&gt;</span>true<span class="tag">&lt;/<span class="name">required</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">rtexprvalue</span>&gt;</span>false<span class="tag">&lt;/<span class="name">rtexprvalue</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">attribute</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">tag</span>&gt;</span></span><br><span class="line">     </span><br><span class="line"><span class="tag">&lt;/<span class="name">taglib</span>&gt;</span></span><br></pre></td></tr></table></figure><h4 id="5-3-导入标签库，使用标签"><a href="#5-3-导入标签库，使用标签" class="headerlink" title="5-3  导入标签库，使用标签"></a>5-3  导入标签库，使用标签</h4><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br></pre></td><td class="code"><pre><span class="line">&lt;%@ page pageEncoding=<span class="string">"UTF-8"</span> <span class="keyword">import</span>=<span class="string">"java.util.*"</span>%&gt;</span><br><span class="line">&lt;%@ taglib uri=<span class="string">"http://www.orbit.com/jsp/AutoDefinedTag"</span> prefix=<span class="string">"tag"</span>%&gt;</span><br><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">&lt;meta charset=<span class="string">"UTF-8"</span>&gt;</span><br><span class="line">&lt;title&gt;Insert title here&lt;/title&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">===========遍历List===========&lt;br/&gt;</span><br><span class="line"></span><br><span class="line">&lt;%</span><br><span class="line">List&lt;String&gt; names = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">names.add(<span class="string">"熊大"</span>);</span><br><span class="line">names.add(<span class="string">"熊二"</span>);</span><br><span class="line">names.add(<span class="string">"光头强"</span>);</span><br><span class="line">pageContext.setAttribute(<span class="string">"names"</span>, names);</span><br><span class="line">%&gt;</span><br><span class="line">&lt;!-- items表示names这个数组，<span class="keyword">var</span>表示names中的属性name --&gt;</span><br><span class="line">&lt;tag:forEach items=<span class="string">"$&#123;names &#125;"</span> <span class="keyword">var</span>=<span class="string">"name"</span>&gt;</span><br><span class="line">$&#123;name &#125; &lt;br/&gt;&lt;/tag:forEach&gt;</span><br><span class="line"></span><br><span class="line">===========遍历Set===========&lt;br/&gt;</span><br><span class="line"></span><br><span class="line">&lt;%</span><br><span class="line">Set&lt;String&gt; cities = <span class="keyword">new</span> HashSet&lt;&gt;();</span><br><span class="line">cities.add(<span class="string">"北京"</span>);</span><br><span class="line">cities.add(<span class="string">"上海"</span>);</span><br><span class="line">cities.add(<span class="string">"广州"</span>);</span><br><span class="line">pageContext.setAttribute(<span class="string">"cities"</span>, cities);</span><br><span class="line">%&gt;</span><br><span class="line">&lt;tag:forEach items=<span class="string">"$&#123;cities &#125;"</span> <span class="keyword">var</span>=<span class="string">"city"</span>&gt;</span><br><span class="line">$&#123;city &#125; &lt;br/&gt;&lt;/tag:forEach&gt;</span><br><span class="line"></span><br><span class="line">===========遍历Map===========&lt;br/&gt;</span><br><span class="line"></span><br><span class="line">&lt;%</span><br><span class="line">Map&lt;String,Object&gt; infos = <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line">infos.put(<span class="string">"name"</span>, <span class="string">"张三"</span>);</span><br><span class="line">infos.put(<span class="string">"age"</span>, <span class="number">24</span>);</span><br><span class="line">infos.put(<span class="string">"gender"</span>, <span class="string">"男"</span>);</span><br><span class="line">pageContext.setAttribute(<span class="string">"infos"</span>, infos);</span><br><span class="line">%&gt;</span><br><span class="line">&lt;tag:forEach items=<span class="string">"$&#123;infos &#125;"</span> <span class="keyword">var</span>=<span class="string">"info"</span>&gt;</span><br><span class="line">$&#123;info &#125; &lt;br/&gt;&lt;/tag:forEach&gt;</span><br><span class="line"></span><br><span class="line">===========遍历Object类型的数组===========&lt;br/&gt;</span><br><span class="line"></span><br><span class="line">&lt;%</span><br><span class="line">Object[] objs = &#123;<span class="string">"元素1"</span>,<span class="string">"元素2"</span>,<span class="string">"元素3"</span>&#125;;</span><br><span class="line">pageContext.setAttribute(<span class="string">"objs"</span>, objs);</span><br><span class="line">%&gt;</span><br><span class="line"></span><br><span class="line">&lt;tag:forEach items=<span class="string">"$&#123;objs &#125;"</span> <span class="keyword">var</span>=<span class="string">"obj"</span>&gt;</span><br><span class="line">$&#123;obj &#125; &lt;br/&gt;&lt;/tag:forEach&gt;</span><br><span class="line"></span><br><span class="line">===========遍历Object类型及数据类型的数组===========&lt;br/&gt;</span><br><span class="line"></span><br><span class="line">&lt;%</span><br><span class="line"><span class="keyword">int</span>[] ages = &#123;<span class="number">11</span>,<span class="number">12</span>,<span class="number">13</span>&#125;;</span><br><span class="line">pageContext.setAttribute(<span class="string">"ages"</span>, ages);</span><br><span class="line">%&gt;</span><br><span class="line"></span><br><span class="line">&lt;tag:forEach items=<span class="string">"$&#123;ages &#125;"</span> <span class="keyword">var</span>=<span class="string">"age"</span>&gt;</span><br><span class="line">$&#123;age &#125; &lt;br/&gt;&lt;/tag:forEach&gt;</span><br><span class="line"></span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure><h4 id="5-4-输出结果"><a href="#5-4-输出结果" class="headerlink" title="5-4  输出结果"></a>5-4  输出结果</h4><p><img src="http://pww25zpix.bkt.clouddn.com/jsp/AutoDefinedTag_02_11.png" alt></p><h3 id="6-将自定义标签库打包发行"><a href="#6-将自定义标签库打包发行" class="headerlink" title="6  将自定义标签库打包发行"></a>6  将自定义标签库打包发行</h3><p>右击项目名——Export——搜索JARfile——勾选需要打包的包名，其他的取消勾选，选择保存位置，命名为xxx.jar——将对应的tld文件复制到xxx.jar中的META-INF文件夹中——需要时导入即可。</p><p><img src="http://pww25zpix.bkt.clouddn.com/jsp/AutoDefinedTag_02_12.png" alt></p><p><img src="http://pww25zpix.bkt.clouddn.com/jsp/AutoDefinedTag_02_13.png" alt></p>]]></content>
    
    <summary type="html">
    
      &lt;h3 id=&quot;1-自定义标签&quot;&gt;&lt;a href=&quot;#1-自定义标签&quot; class=&quot;headerlink&quot; title=&quot;1 自定义标签&quot;&gt;&lt;/a&gt;1 自定义标签&lt;/h3&gt;&lt;p&gt;自定义标签是为了简化代码。使用自定义标签&lt;strong&gt;替换一个java代码片段&lt;/strong&gt;，完成相同功能。&lt;/p&gt;
    
    </summary>
    
      <category term="JavaWeb" scheme="https://cometorbityh.github.io/categories/JavaWeb/"/>
    
    
      <category term="JSP" scheme="https://cometorbityh.github.io/tags/JSP/"/>
    
      <category term="JavaWeb" scheme="https://cometorbityh.github.io/tags/JavaWeb/"/>
    
  </entry>
  
  <entry>
    <title>Next主题格式配置记录</title>
    <link href="https://cometorbityh.github.io/2019/08/27/Next%E4%B8%BB%E9%A2%98%E6%A0%BC%E5%BC%8F%E9%85%8D%E7%BD%AE%E8%AE%B0%E5%BD%95/"/>
    <id>https://cometorbityh.github.io/2019/08/27/Next主题格式配置记录/</id>
    <published>2019-08-27T15:23:14.000Z</published>
    <updated>2019-08-27T15:48:58.046Z</updated>
    
    <content type="html"><![CDATA[<p>文章背景色<a id="more"></a></p><p><img src="http://pww25zpix.bkt.clouddn.com/jsp/hexo_changecolor.png" alt></p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;文章背景色&lt;/p&gt;
    
    </summary>
    
      <category term="Github" scheme="https://cometorbityh.github.io/categories/Github/"/>
    
      <category term="hexo" scheme="https://cometorbityh.github.io/categories/Github/hexo/"/>
    
    
      <category term="hexo" scheme="https://cometorbityh.github.io/tags/hexo/"/>
    
      <category term="next" scheme="https://cometorbityh.github.io/tags/next/"/>
    
  </entry>
  
  <entry>
    <title>使用PicGo + 七牛云 快速创建图床</title>
    <link href="https://cometorbityh.github.io/2019/08/27/%E4%BD%BF%E7%94%A8PicGo-%E4%B8%83%E7%89%9B%E4%BA%91-%E5%BF%AB%E9%80%9F%E5%88%9B%E5%BB%BA%E5%9B%BE%E5%BA%8A/"/>
    <id>https://cometorbityh.github.io/2019/08/27/使用PicGo-七牛云-快速创建图床/</id>
    <published>2019-08-27T12:04:12.000Z</published>
    <updated>2019-08-27T15:25:44.190Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>​    上次是解决了hexo显示不出本地图片的问题，但是如果电脑出问题了，导致图片全都不见了，那么所带来的麻烦可不小，因此我们可以考虑把这些博客中的图片上传在图床（可以理解为专门存储图片的服务器）中，这样就不用担心图片丢失了，只要记住服务器网站的账号密码就可以永久保存图片了。<a id="more"></a></p></blockquote><ol><li><p>注册七牛云账号（<a href="https://www.qiniu.com/），并完成实名认证。" target="_blank" rel="noopener">https://www.qiniu.com/），并完成实名认证。</a></p></li><li><p>创建存储空间</p><p><img src="http://pww25zpix.bkt.clouddn.com/jsp/qiniu/01.png" alt></p></li></ol><ol start="3"><li><p>下载并安装PicGo（<a href="https://github.com/Molunerfinn/PicGo/releases）" target="_blank" rel="noopener">https://github.com/Molunerfinn/PicGo/releases）</a></p><p><img src="http://pww25zpix.bkt.clouddn.com/jsp/qiniu_003_1.png" alt></p></li><li><p>七牛图床设置</p><img src="http://pww25zpix.bkt.clouddn.com/jsp/qiniu_002.png" width="700"></li></ol>   <img src="http://pww25zpix.bkt.clouddn.com/jsp/qiniu_002_3.png" width="700">   <img src="http://pww25zpix.bkt.clouddn.com/jsp/qiniu_002_2.png" width="700">   <img src="http://pww25zpix.bkt.clouddn.com/jsp/qiniu_002_4.png" width="700"><ol start="5"><li><p>上传图片</p><img src="http://pww25zpix.bkt.clouddn.com/jsp/qiniu_002_5.png" width="700"></li></ol>]]></content>
    
    <summary type="html">
    
      &lt;blockquote&gt;
&lt;p&gt;​    上次是解决了hexo显示不出本地图片的问题，但是如果电脑出问题了，导致图片全都不见了，那么所带来的麻烦可不小，因此我们可以考虑把这些博客中的图片上传在图床（可以理解为专门存储图片的服务器）中，这样就不用担心图片丢失了，只要记住服务器网站的账号密码就可以永久保存图片了。&lt;/p&gt;&lt;/blockquote&gt;
    
    </summary>
    
      <category term="Github" scheme="https://cometorbityh.github.io/categories/Github/"/>
    
      <category term="hexo" scheme="https://cometorbityh.github.io/categories/Github/hexo/"/>
    
    
      <category term="hexo" scheme="https://cometorbityh.github.io/tags/hexo/"/>
    
  </entry>
  
  <entry>
    <title>JSP——EL表达式</title>
    <link href="https://cometorbityh.github.io/2019/08/26/JSP%E2%80%94%E2%80%94EL%E8%A1%A8%E8%BE%BE%E5%BC%8F/"/>
    <id>https://cometorbityh.github.io/2019/08/26/JSP——EL表达式/</id>
    <published>2019-08-26T06:14:53.000Z</published>
    <updated>2019-08-28T11:52:57.797Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>  EL表达式，Expression Language，可以获取JSP页面的数据</p><p>  EL表达式的格式为  <code>${expression}</code>  </p><p>在JSP页面的任何静态部分均可使用该格式获取到指定值</p></blockquote><a id="more"></a><h1 id="使用EL获取数据"><a href="#使用EL获取数据" class="headerlink" title="使用EL获取数据"></a>使用EL获取数据</h1><hr><h2 id="从四大域中获取数据"><a href="#从四大域中获取数据" class="headerlink" title="　从四大域中获取数据"></a>　从四大域中获取数据</h2><p>EL只能获取到四大域中的数据，因此要获取到某个数据，需要将其加入到某个域中，再使用EL表达式获取数据。</p><hr><h3 id="从四大域中依次查找数据-属性"><a href="#从四大域中依次查找数据-属性" class="headerlink" title="从四大域中依次查找数据 ${属性}"></a>从四大域中依次查找数据 <code>${属性}</code></h3><p>EL01.jsp</p><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&lt;body&gt;</span><br><span class="line">&lt;%</span><br><span class="line">application.setAttribute(<span class="string">"name"</span>, <span class="string">"JAVA核心技术1"</span>);</span><br><span class="line">session.setAttribute(<span class="string">"name"</span>, <span class="string">"JAVA核心技术2"</span>);</span><br><span class="line">request.setAttribute(<span class="string">"name"</span>, <span class="string">"JAVA核心技术3"</span>);</span><br><span class="line">pageContext.setAttribute(<span class="string">"name"</span>, <span class="string">"JAVA核心技术4"</span>);</span><br><span class="line">%&gt;</span><br><span class="line">&lt;!-- $&#123;属性名&#125;会按照从小到大的顺序依次从四大域中查找指定名称的属性值 --&gt;</span><br><span class="line">name = $&#123;name&#125;</span><br><span class="line">&lt;/body&gt;</span><br></pre></td></tr></table></figure><p>输出结果为page域的属性值（最小的域）</p><p><img src="http://pww25zpix.bkt.clouddn.com/blog/jsp/el/001.png" alt="从四大域中依次查找数据"></p><h3 id="从指定域中获取数据-域scope-属性"><a href="#从指定域中获取数据-域scope-属性" class="headerlink" title="从指定域中获取数据  ${域scope.属性}"></a>从指定域中获取数据  <code>${域scope.属性}</code></h3><p>依次从四大域查找属性效率过低，为了提高效率，我们应该想想如何从指定域中直接获取某个属性值。</p><p>EL有4个域属性空间相关的内置对象，分别为pageScope，requestScope，sessionScope，applicationScope。表示从对应域属性空间中查找指定key。</p><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">&lt;!-- EL01.jsp --&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">&lt;%</span><br><span class="line">application.setAttribute(<span class="string">"name"</span>, <span class="string">"JAVA核心技术1"</span>);</span><br><span class="line">session.setAttribute(<span class="string">"name"</span>, <span class="string">"JAVA核心技术2"</span>);</span><br><span class="line">request.setAttribute(<span class="string">"name"</span>, <span class="string">"JAVA核心技术3"</span>);</span><br><span class="line">pageContext.setAttribute(<span class="string">"name"</span>, <span class="string">"JAVA核心技术4"</span>);</span><br><span class="line">%&gt;</span><br><span class="line">&lt;!-- $&#123;属性名&#125;会按照从小到大的顺序依次从四大域中查找指定名称的属性值 --&gt;</span><br><span class="line">name = $&#123;pageScope.name&#125;&lt;br/&gt;</span><br><span class="line">name = $&#123;requestScope.name&#125;&lt;br/&gt;</span><br><span class="line">name = $&#123;sessionScope.name&#125;&lt;br/&gt;</span><br><span class="line">name = $&#123;applicationScope.name&#125;&lt;br/&gt;</span><br><span class="line">&lt;/body&gt;</span><br></pre></td></tr></table></figure><p><img src="/2019/08/26/JSP——EL表达式/%E4%BB%8E%E6%8C%87%E5%AE%9A%E5%9F%9F%E4%B8%AD%E8%8E%B7%E5%8F%96%E6%95%B0%E6%8D%AE.png" alt="从指定域中获取数据"></p><h2 id="获取Bean的属性-key-属性"><a href="#获取Bean的属性-key-属性" class="headerlink" title="　获取Bean的属性 ${key.属性}"></a>　获取Bean的属性 <code>${key.属性}</code></h2><p>创建一个Bean的对象，将这个Bean对象加入到域属性空间中，通过  <code>${key.属性}</code>  可以访问该对象的属性值。</p><p>注意：若访问对象为null，则EL也不会报空指针异常，显示结果为””</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* School.java */</span></span><br><span class="line"><span class="keyword">package</span> com.orbit.el;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">School</span> </span>&#123;</span><br><span class="line"><span class="keyword">private</span> String scname;</span><br><span class="line"><span class="keyword">private</span> String scaddress;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="title">School</span><span class="params">(String scname, String scaddress)</span> </span>&#123;</span><br><span class="line"><span class="keyword">super</span>();</span><br><span class="line"><span class="keyword">this</span>.scname = scname;</span><br><span class="line"><span class="keyword">this</span>.scaddress = scaddress;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">getScname</span><span class="params">()</span> </span>&#123;</span><br><span class="line"><span class="keyword">return</span> scname;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setScname</span><span class="params">(String scname)</span> </span>&#123;</span><br><span class="line"><span class="keyword">this</span>.scname = scname;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">getScaddress</span><span class="params">()</span> </span>&#123;</span><br><span class="line"><span class="keyword">return</span> scaddress;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setScaddress</span><span class="params">(String scaddress)</span> </span>&#123;</span><br><span class="line"><span class="keyword">this</span>.scaddress = scaddress;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">toString</span><span class="params">()</span> </span>&#123;</span><br><span class="line"><span class="keyword">return</span> <span class="string">"School [scname="</span> + scname + <span class="string">", scaddress="</span> + scaddress + <span class="string">"]"</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* Student.java */</span></span><br><span class="line"><span class="keyword">package</span> com.orbit.el;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Student</span> </span>&#123;</span><br><span class="line"><span class="keyword">private</span> String sname;</span><br><span class="line"><span class="keyword">private</span> <span class="keyword">int</span> sno;</span><br><span class="line"><span class="keyword">private</span> School school;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="title">Student</span><span class="params">(String sname, <span class="keyword">int</span> sno, School school)</span> </span>&#123;</span><br><span class="line"><span class="keyword">super</span>();</span><br><span class="line"><span class="keyword">this</span>.sname = sname;</span><br><span class="line"><span class="keyword">this</span>.sno = sno;</span><br><span class="line"><span class="keyword">this</span>.school = school;</span><br><span class="line">&#125;</span><br><span class="line">    </span><br><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">getSname</span><span class="params">()</span> </span>&#123;</span><br><span class="line"><span class="keyword">return</span> sname;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setSname</span><span class="params">(String sname)</span> </span>&#123;</span><br><span class="line"><span class="keyword">this</span>.sname = sname;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">getSno</span><span class="params">()</span> </span>&#123;</span><br><span class="line"><span class="keyword">return</span> sno;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setSno</span><span class="params">(<span class="keyword">int</span> sno)</span> </span>&#123;</span><br><span class="line"><span class="keyword">this</span>.sno = sno;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">public</span> School <span class="title">getSchool</span><span class="params">()</span> </span>&#123;</span><br><span class="line"><span class="keyword">return</span> school;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setSchool</span><span class="params">(School school)</span> </span>&#123;</span><br><span class="line"><span class="keyword">this</span>.school = school;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">toString</span><span class="params">()</span> </span>&#123;</span><br><span class="line"><span class="keyword">return</span> <span class="string">"Student [sname="</span> + sname + <span class="string">", sno="</span> + sno + <span class="string">", school="</span> + school + <span class="string">"]"</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">&lt;%@ page language=<span class="string">"java"</span> contentType=<span class="string">"text/html; charset=UTF-8"</span></span><br><span class="line"> <span class="keyword">import</span>=<span class="string">"com.orbit.el.*"</span>%&gt;</span><br><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">&lt;meta charset=<span class="string">"UTF-8"</span>&gt;</span><br><span class="line">&lt;title&gt;Insert title here&lt;/title&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">&lt;%</span><br><span class="line">School school = <span class="keyword">new</span> School(<span class="string">"清华大学"</span>,<span class="string">"北京"</span>);</span><br><span class="line">Student student = <span class="keyword">new</span> Student(<span class="string">"杨小杨"</span>,<span class="number">10001</span>,school);</span><br><span class="line"></span><br><span class="line">pageContext.setAttribute(<span class="string">"student"</span>, student);</span><br><span class="line">%&gt;</span><br><span class="line"></span><br><span class="line">&lt;!-- 若访问对象为<span class="keyword">null</span>，则EL也不会报空指针异常，显示结果为<span class="string">" "</span> --&gt;&gt;</span><br><span class="line">student = $&#123;student1&#125;</span><br><span class="line">student = $&#123;student&#125;&lt;br/&gt;</span><br><span class="line">student.sname = $&#123;student.sname&#125;&lt;br/&gt;</span><br><span class="line">student.sname = $&#123;student[<span class="string">'sname'</span>]&#125;&lt;br/&gt;</span><br><span class="line">student.sno = $&#123;student.sno&#125;&lt;br/&gt;</span><br><span class="line">student.sno = $&#123;student[<span class="string">'sno'</span>]&#125;&lt;br/&gt;</span><br><span class="line">student.school = $&#123;student.school&#125;&lt;br/&gt;</span><br><span class="line">student.school.scname = $&#123;student.school.scname&#125;&lt;br/&gt;</span><br><span class="line">student.school.scaddress = $&#123;student.school.scaddress&#125;&lt;br/&gt;</span><br><span class="line"></span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure><p><img src="/2019/08/26/JSP——EL表达式/EL%E8%AE%BF%E9%97%AEBean%E7%9A%84%E5%B1%9E%E6%80%A7.png" alt="EL访问Bean的属性"></p><h2 id="获取数组-array-i"><a href="#获取数组-array-i" class="headerlink" title="　获取数组 ${array[i]}"></a>　获取数组 <code>${array[i]}</code></h2><p>创建一个数组，将这个数组加入到域属性空间，通过  <code>${array[i]}</code>  可以访问该数组的第 i+1个元素。</p><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">&lt;%@ page language=<span class="string">"java"</span> contentType=<span class="string">"text/html; charset=UTF-8"</span></span><br><span class="line"> <span class="keyword">import</span>=<span class="string">"com.orbit.el.*"</span>%&gt;</span><br><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">&lt;meta charset=<span class="string">"UTF-8"</span>&gt;</span><br><span class="line">&lt;title&gt;Insert title here&lt;/title&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">&lt;%</span><br><span class="line">School[] schools = <span class="keyword">new</span> School[<span class="number">3</span>];</span><br><span class="line">schools[<span class="number">0</span>] = <span class="keyword">new</span> School(<span class="string">"清华大学"</span>,<span class="string">"中国北京"</span>);</span><br><span class="line">schools[<span class="number">1</span>] = <span class="keyword">new</span> School(<span class="string">"北京大学"</span>,<span class="string">"中国北京"</span>);</span><br><span class="line">schools[<span class="number">2</span>] = <span class="keyword">new</span> School(<span class="string">"厦门大学"</span>,<span class="string">"中国福建"</span>);</span><br><span class="line">pageContext.setAttribute(<span class="string">"schools"</span>, schools);</span><br><span class="line">%&gt;</span><br><span class="line"></span><br><span class="line">school[<span class="number">2</span>] = $&#123;schools[<span class="number">0</span>]&#125;&lt;br/&gt;</span><br><span class="line">school[<span class="number">2</span>].address = $&#123;schools[<span class="number">2</span>].scaddress&#125;&lt;br/&gt;</span><br><span class="line">&lt;!-- 数组下标超出上限，EL不会报越界异常 --&gt;</span><br><span class="line">school[<span class="number">3</span>] = $&#123;schools[<span class="number">3</span>]&#125;&lt;br/&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure><p>​    <img src="/2019/08/26/JSP——EL表达式/EL%E8%AE%BF%E9%97%AE%E6%95%B0%E7%BB%84.png" alt="EL访问数组"></p><p>​      </p><h2 id="获取List中的元素-list-i"><a href="#获取List中的元素-list-i" class="headerlink" title="　获取List中的元素 ${list[i]}"></a>　获取List中的元素 <code>${list[i]}</code></h2><p>访问list与访问数组的方式一致。</p><p>注意：set是无序的，其中的元素没有索引，因此无法用该种方式访问。</p><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">&lt;%@ page language=<span class="string">"java"</span> contentType=<span class="string">"text/html; charset=UTF-8"</span></span><br><span class="line"> <span class="keyword">import</span>=<span class="string">"java.util.*"</span>%&gt;</span><br><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">&lt;meta charset=<span class="string">"UTF-8"</span>&gt;</span><br><span class="line">&lt;title&gt;Insert title here&lt;/title&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">&lt;%</span><br><span class="line">List&lt;String&gt; names = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">names.add(<span class="string">"熊大"</span>);</span><br><span class="line">names.add(<span class="string">"熊二"</span>);</span><br><span class="line">names.add(<span class="string">"光头强"</span>);</span><br><span class="line">pageContext.setAttribute(<span class="string">"names"</span>, names);</span><br><span class="line"></span><br><span class="line">%&gt;</span><br><span class="line">names[<span class="number">1</span>] = $&#123;names[<span class="number">1</span>]&#125;&lt;br/&gt;</span><br><span class="line">names[<span class="number">10</span>] = $&#123;names[<span class="number">10</span>]&#125;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure><p><img src="/2019/08/26/JSP——EL表达式/EL%E8%AE%BF%E9%97%AEList.png" alt="EL访问List"></p><h2 id="获取Map中的元素-map-元素"><a href="#获取Map中的元素-map-元素" class="headerlink" title="　获取Map中的元素 ${map.元素}"></a>　获取Map中的元素 <code>${map.元素}</code></h2><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">&lt;%@ page language=<span class="string">"java"</span> contentType=<span class="string">"text/html; charset=UTF-8"</span></span><br><span class="line"> <span class="keyword">import</span>=<span class="string">"java.util.*,com.orbit.el.*"</span>%&gt;</span><br><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">&lt;meta charset=<span class="string">"UTF-8"</span>&gt;</span><br><span class="line">&lt;title&gt;Insert title here&lt;/title&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">&lt;%</span><br><span class="line">Map&lt;String,Object&gt; map = <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line">map.put(<span class="string">"school"</span>, <span class="keyword">new</span> School(<span class="string">"厦门大学"</span>,<span class="string">"中国福建"</span>));</span><br><span class="line">map.put(<span class="string">"name"</span>, <span class="string">"张三"</span>);</span><br><span class="line">map.put(<span class="string">"sex"</span>, <span class="string">"男"</span>);</span><br><span class="line">pageContext.setAttribute(<span class="string">"map"</span>, map);</span><br><span class="line">%&gt; </span><br><span class="line">&lt;!-- map.school是Object类型的，map.school.scname是默认Object型强转为School型 --&gt;</span><br><span class="line">$&#123;map.school.scname &#125;&lt;br/&gt;</span><br><span class="line">$&#123;map.name &#125;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure><p>​    <img src="/2019/08/26/JSP——EL表达式/EL%E8%AE%BF%E9%97%AEMap.png" alt="EL访问Map"></p><h1 id="EL常见运算符"><a href="#EL常见运算符" class="headerlink" title="EL常见运算符"></a>EL常见运算符</h1><table><thead><tr><th align="center">序号</th><th align="center"><strong>类别</strong></th><th align="center"><strong>运算符</strong></th></tr></thead><tbody><tr><td align="center">1</td><td align="center">算术运算符</td><td align="center">+  -  *  /  %</td></tr><tr><td align="center">2</td><td align="center">关系运算符</td><td align="center">&gt;  &lt;  ==  &gt;=  &lt;=  !=</td></tr><tr><td align="center">3</td><td align="center">逻辑运算符</td><td align="center">&amp;&amp;(and)    ||(or)    !(not)</td></tr><tr><td align="center">4</td><td align="center">条件运算符</td><td align="center">？  ：</td></tr><tr><td align="center">5</td><td align="center">取值运算符</td><td align="center">.      [ ]</td></tr><tr><td align="center">6</td><td align="center">empty运算符</td><td align="center">empty</td></tr></tbody></table><h2 id="empty的用法"><a href="#empty的用法" class="headerlink" title="　empty的用法"></a>　empty的用法</h2><p>　　<strong>empty判空，四大域中的元素符合以下条件时empty的运算结果为true：</strong></p><p>　　　　没有定义的属性</p><p>　　　值为null的引用</p><p>　　　　值为空串的String引用</p><p>　　　　没有元素的数组或集合</p><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">&lt;%@ page language=<span class="string">"java"</span> contentType=<span class="string">"text/html; charset=UTF-8"</span></span><br><span class="line"> <span class="keyword">import</span>=<span class="string">"java.util.*,com.orbit.el.*"</span>%&gt;</span><br><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">&lt;meta charset=<span class="string">"UTF-8"</span>&gt;</span><br><span class="line">&lt;title&gt;Insert title here&lt;/title&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">&lt;%</span><br><span class="line">String b = <span class="keyword">null</span>;</span><br><span class="line">String c = <span class="string">""</span>;</span><br><span class="line">List&lt;String&gt; d = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">pageContext.setAttribute(<span class="string">"b"</span>, b);</span><br><span class="line">pageContext.setAttribute(<span class="string">"c"</span>, c);</span><br><span class="line">pageContext.setAttribute(<span class="string">"d"</span>, d);</span><br><span class="line">%&gt;</span><br><span class="line"></span><br><span class="line">empty a = $&#123;empty a&#125;&lt;br/&gt;</span><br><span class="line">empty b = $&#123;empty b&#125;&lt;br/&gt;</span><br><span class="line">empty c = $&#123;empty c&#125;&lt;br/&gt;</span><br><span class="line">empty d = $&#123;empty d&#125;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure><p><img src="http://pww25zpix.bkt.clouddn.com/jsp/EL_02_01.png" alt></p><h1 id="EL内置对象"><a href="#EL内置对象" class="headerlink" title="EL内置对象"></a>EL内置对象</h1><p>　　EL有11个内置对象，除了前面的和4个域属性空间相关的内置对象之外，还有7个。</p><p>　　EL的内置对象中，除了pageContext之外，其他内置对象的类型均为<font color="#FF0000">java.util.Map</font>类型。</p><p>　　此处介绍常用的四个内置对象：</p><h2 id="pageContext"><a href="#pageContext" class="headerlink" title="　pageContext"></a>　pageContext</h2><p>　　　是不是有点熟悉？没错，EL的pageContext和JSP的pageContext是同一个对象。</p><p>　　　可以获取到<strong>JSP</strong>的request、response、session、servletContext、servletConfig等对象</p><p>　　　注意获取到的这些内置对象是JSP的，不是EL的，EL中没有这些内置对象。</p><blockquote><p><strong>如何在EL中使用pageContext获取到JSP的内置对象？</strong></p><p>例如，获取request内置对象——<code>${pageContext.request}</code> </p><p>其底层实际调用的方法为 <code>pageContext.getRequest()</code>，其他内置对象同理</p><p><strong>常用内置对象的方法？</strong></p><p><code>${pageContext.request.contextPath()}</code>，用来获取当前项目路径，一般用在JSP页面的路径中。</p><figure class="highlight jsp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&gt; &lt;body&gt;</span><br><span class="line">&gt; &lt;!-- 可读性差 --&gt;</span><br><span class="line">&gt; &lt;form action="register"&gt;&lt;/form&gt;</span><br><span class="line">&gt; &lt;!-- 可读性好 --&gt;</span><br><span class="line">&gt; &lt;form action="$&#123;pageContext.request.contextPath&#125;/register"&gt;&lt;/form&gt;</span><br><span class="line">&gt; &lt;/body&gt;</span><br><span class="line">&gt;</span><br></pre></td></tr></table></figure></blockquote><h2 id="param"><a href="#param" class="headerlink" title="　param"></a>　param</h2><p>　　　${param.parameter}`获取request域（请求）中的指定参数的值。</p><p>　　　底层调用的是：<code>request.getparameter()</code></p><h2 id="paramValues"><a href="#paramValues" class="headerlink" title="　paramValues"></a>　paramValues</h2><p>　　　${paramValues.parameter[i]}` :获取request域（请求）中指定参数的所有值。</p><p>　　　底层调用的是：<code>request.getparameterValues()</code></p><h2 id="initParam"><a href="#initParam" class="headerlink" title="　initParam"></a>　initParam</h2><p>　　　获取初始化参数</p><p>　　　底层调用的是<code>servletContext.getInitParameter()</code></p><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">&lt;!-- index.jsp --&gt;</span><br><span class="line"></span><br><span class="line">&lt;%@ page language=<span class="string">"java"</span> contentType=<span class="string">"text/html; charset=UTF-8"</span></span><br><span class="line">    pageEncoding=<span class="string">"UTF-8"</span>%&gt;</span><br><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">&lt;meta charset=<span class="string">"UTF-8"</span>&gt;</span><br><span class="line">&lt;title&gt;Insert title here&lt;/title&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">&lt;form action=<span class="string">"$&#123;pageContext.request.contextPath&#125;/show.jsp"</span> &gt;</span><br><span class="line">姓名：&lt;input type=<span class="string">"text"</span> name=<span class="string">"uname"</span>/&gt;&lt;br/&gt;</span><br><span class="line">年龄：&lt;input type=<span class="string">"text"</span> name=<span class="string">"uage"</span>/&gt;&lt;br/&gt;</span><br><span class="line"></span><br><span class="line">爱好：&lt;input type=<span class="string">"checkbox"</span> name=<span class="string">"uhobby"</span> value=<span class="string">"sing"</span>/&gt;唱</span><br><span class="line">&lt;input type=<span class="string">"checkbox"</span> name=<span class="string">"uhobby"</span> value=<span class="string">"dancing"</span>/&gt;跳</span><br><span class="line">&lt;input type=<span class="string">"checkbox"</span> name=<span class="string">"uhobby"</span> value=<span class="string">"rap"</span>/&gt;RAP</span><br><span class="line">&lt;input type=<span class="string">"checkbox"</span> name=<span class="string">"uhobby"</span> value=<span class="string">"basketball"</span>/&gt;篮球&lt;br/&gt;</span><br><span class="line">&lt;input type=<span class="string">"submit"</span>value=<span class="string">"提交"</span>/&gt;</span><br><span class="line">&lt;/form&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">&lt;!-- show.jsp --&gt;</span><br><span class="line"></span><br><span class="line">&lt;%@ page language=<span class="string">"java"</span> contentType=<span class="string">"text/html; charset=UTF-8"</span></span><br><span class="line">    pageEncoding=<span class="string">"UTF-8"</span>%&gt;</span><br><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">&lt;meta charset=<span class="string">"UTF-8"</span>&gt;</span><br><span class="line">&lt;title&gt;Insert title here&lt;/title&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">姓名：$&#123;param.uname&#125;&lt;br/&gt;</span><br><span class="line">年龄：$&#123;param.uage&#125;&lt;br/&gt;</span><br><span class="line">爱好：$&#123;paramValues.uhobby[<span class="number">0</span>]&#125; &amp;nbsp;</span><br><span class="line">$&#123;paramValues.uhobby[<span class="number">1</span>]&#125;&amp;nbsp;</span><br><span class="line">$&#123;paramValues.uhobby[<span class="number">2</span>]&#125;&amp;nbsp;</span><br><span class="line">$&#123;paramValues.uhobby[<span class="number">3</span>]&#125;&lt;br/&gt;</span><br><span class="line">学校：$&#123;initParam.school&#125;&lt;br/&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">web-app</span> <span class="attr">xmlns:xsi</span>=<span class="string">"http://www.w3.org/2001/XMLSchema-instance"</span> <span class="attr">xmlns</span>=<span class="string">"http://xmlns.jcp.org/xml/ns/javaee"</span> <span class="attr">xsi:schemaLocation</span>=<span class="string">"http://xmlns.jcp.org/xml/ns/javaee http://xmlns.jcp.org/xml/ns/javaee/web-app_4_0.xsd"</span> <span class="attr">version</span>=<span class="string">"4.0"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">display-name</span>&gt;</span>02-EL<span class="tag">&lt;/<span class="name">display-name</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">context-param</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">param-name</span>&gt;</span>school<span class="tag">&lt;/<span class="name">param-name</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">param-value</span>&gt;</span>清华大学<span class="tag">&lt;/<span class="name">param-value</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">context-param</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">web-app</span>&gt;</span></span><br></pre></td></tr></table></figure><p><img src="http://pww25zpix.bkt.clouddn.com/jsp/EL_03_02.png" alt></p><p><img src="http://pww25zpix.bkt.clouddn.com/jsp/EL_03_01.png" alt></p><h1 id="EL自定义函数"><a href="#EL自定义函数" class="headerlink" title="EL自定义函数"></a>EL自定义函数</h1><p>　　EL函数只能处理四大域中的属性值及常量</p><p>　　步骤：定义函数——定义标签库——注册函数——使用函数</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//ELFunctions.java</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">package</span> com.orbit.el;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ELFunctions</span> </span>&#123;</span><br><span class="line"><span class="comment">//小写转大写</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> String <span class="title">LowertoUpper</span><span class="params">(String source)</span> </span>&#123;</span><br><span class="line"><span class="keyword">return</span> source.toUpperCase();</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- myFt.tld --&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="meta">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">taglib</span> <span class="attr">xmlns</span>=<span class="string">"http://java.sun.com/xml/ns/j2ee"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">xmlns:xsi</span>=<span class="string">"http://www.w3.org/2001/XMLSchema-instance"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">xsi:schemaLocation</span>=<span class="string">"http://java.sun.com/xml/ns/j2ee http://java.sun.com/xml/ns/j2ee/web-jsptaglibrary_2_0.xsd"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">version</span>=<span class="string">"2.0"</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- 定义标签库信息 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">tlib-version</span>&gt;</span>1.0<span class="tag">&lt;/<span class="name">tlib-version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">short-name</span>&gt;</span>myFt<span class="tag">&lt;/<span class="name">short-name</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">uri</span>&gt;</span>http://www.orbit.com/jsp/el/functions<span class="tag">&lt;/<span class="name">uri</span>&gt;</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">&lt;!-- 注册函数 --&gt;</span></span><br><span class="line">     <span class="tag">&lt;<span class="name">function</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">name</span>&gt;</span>IsLowertoUpper<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">function-class</span>&gt;</span>com.orbit.el.ELFunctions<span class="tag">&lt;/<span class="name">function-class</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">function-signature</span>&gt;</span>java.lang.String LowertoUpper( java.lang.String )<span class="tag">&lt;/<span class="name">function-signature</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">function</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">taglib</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">&lt;!-- index.jsp --&gt;</span><br><span class="line"></span><br><span class="line">&lt;%@ page pageEncoding=<span class="string">"UTF-8"</span>%&gt;</span><br><span class="line">&lt;%@ taglib uri=<span class="string">"http://www.orbit.com/jsp/el/functions"</span> prefix=<span class="string">"myFt"</span>%&gt;</span><br><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">&lt;meta charset=<span class="string">"UTF-8"</span>&gt;</span><br><span class="line">&lt;title&gt;Insert title here&lt;/title&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">    &lt;!-- 使用函数：处理常量 --&gt;</span><br><span class="line">$&#123;myFt:IsLowertoUpper(<span class="string">"no one can stop me!"</span>) &#125;</span><br><span class="line">    </span><br><span class="line">    &lt;!-- 使用函数：处理四大域中的属性 --&gt;</span><br><span class="line">    &lt;%</span><br><span class="line">String name=<span class="string">"Selena"</span>;</span><br><span class="line">pageContext.setAttribute(<span class="string">"name"</span>, name);</span><br><span class="line">%&gt;</span><br><span class="line">$&#123;myFt:IsLowertoUpper(name) &#125;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure><p><img src="http://pww25zpix.bkt.clouddn.com/jsp/EL_04_02.png" alt></p><h1 id="JSTL中的EL函数"><a href="#JSTL中的EL函数" class="headerlink" title="JSTL中的EL函数"></a>JSTL中的EL函数</h1><p>​        JSTL，JSP Standard Tag Library，JSP标准标签库，是Apache定义好的一套标准的标签库规范。</p><p>​        JSTL中，定义了一套关于字符串处理的函数标签库，这个函数标签库中包含16个处理字符串的函数。</p><p>​        在JSP页面中导入jstl.jar ，standard.jar，就可以直接使用。</p><p>​    <strong>导入jar包</strong></p><blockquote><p>jstl.jar下载地址： <a href="http://repo2.maven.org/maven2/javax/servlet/jstl/" target="_blank" rel="noopener">http://repo2.maven.org/maven2/javax/servlet/jstl/</a></p><p>standard.jar下载地址： <a href="http://repo2.maven.org/maven2/taglibs/standard/" target="_blank" rel="noopener">http://repo2.maven.org/maven2/taglibs/standard/</a></p></blockquote><p>​    <strong>查看目录</strong></p><p><img src="http://pww25zpix.bkt.clouddn.com/jsp/EL_05_01.png" alt></p><p>​    <strong>使用函数</strong></p><figure class="highlight jsp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">&lt;%@ page pageEncoding=<span class="string">"UTF-8"</span>%&gt;</span><br><span class="line">&lt;%@ taglib uri=<span class="string">"http://java.sun.com/jsp/jstl/functions"</span> prefix=<span class="string">"fn"</span>%&gt;</span><br><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">&lt;meta charset=<span class="string">"UTF-8"</span>&gt;</span><br><span class="line">&lt;title&gt;Insert title here&lt;/title&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">$&#123;fn:substring(<span class="string">"abcdefg"</span>,<span class="number">2</span>,<span class="number">5</span>) &#125;</span><br><span class="line">$&#123;fn:substringBefore(<span class="string">"abcdefg"</span>,<span class="string">"cd"</span>) &#125;</span><br><span class="line">$&#123;fn:substringAfter(<span class="string">"abcdefg"</span>,<span class="string">"cd"</span><span class="string">") &#125;</span></span><br><span class="line"><span class="string">&lt;/body&gt;</span></span><br><span class="line"><span class="string">&lt;/html&gt;</span></span><br></pre></td></tr></table></figure><p><img src="/2019/08/26/JSP——EL表达式/1566973074125.png" alt="1566973074125"></p><h1 id="对于EL做出的总结"><a href="#对于EL做出的总结" class="headerlink" title="对于EL做出的总结"></a>对于EL做出的总结</h1><ul><li>EL不能出现在Java代码块、表达式块等JSP的动态代码部分</li><li>EL只能从四大域属性空间中获取数据（pageContext,request,session,application）</li><li>EL不会抛出空指针异常，若访问一个null对象的属性，则什么也不显示</li><li>EL不会抛出数组访问越界异常，若访问一个数组中不存在的元素，则什么也不显示</li><li>EL本身无法对字符串进行处理，要想进行处理，可以通过EL自定义函数和JSTL中的EL函数来处理。</li></ul>]]></content>
    
    <summary type="html">
    
      &lt;blockquote&gt;
&lt;p&gt;  EL表达式，Expression Language，可以获取JSP页面的数据&lt;/p&gt;
&lt;p&gt;  EL表达式的格式为  &lt;code&gt;${expression}&lt;/code&gt;  &lt;/p&gt;
&lt;p&gt;在JSP页面的任何静态部分均可使用该格式获取到指定值&lt;/p&gt;
&lt;/blockquote&gt;
    
    </summary>
    
      <category term="JavaWeb" scheme="https://cometorbityh.github.io/categories/JavaWeb/"/>
    
    
      <category term="JSP" scheme="https://cometorbityh.github.io/tags/JSP/"/>
    
      <category term="JavaWeb" scheme="https://cometorbityh.github.io/tags/JavaWeb/"/>
    
  </entry>
  
  <entry>
    <title>解决hexo显示不出本地图片问题</title>
    <link href="https://cometorbityh.github.io/2019/08/26/%E8%A7%A3%E5%86%B3hexo%E6%98%BE%E7%A4%BA%E4%B8%8D%E5%87%BA%E6%9C%AC%E5%9C%B0%E5%9B%BE%E7%89%87%E9%97%AE%E9%A2%98/"/>
    <id>https://cometorbityh.github.io/2019/08/26/解决hexo显示不出本地图片问题/</id>
    <published>2019-08-26T05:45:45.000Z</published>
    <updated>2019-08-27T15:26:08.966Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>昨天刚开通博客，很兴奋，今天写了一篇博客，发现博客中的图片一直加载不出来。于是网上找了很多方案，鼓捣了很久才弄出来，真是麻烦，不过好在弄完了。让我们看看如何解决本地图片加载不出来的问题。</p></blockquote><a id="more"></a><p><img src="/2019/08/26/解决hexo显示不出本地图片问题/1566798624172.png" alt="图片加载失败"></p><ol><li><p>首先把blog（hexo）目录下的_config.yml里的psot_asset_folder:设置为true</p></li><li><p>在blog（hexo）目录下执行:</p></li></ol><figure class="highlight maxima"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-asset-<span class="built_in">image</span> --<span class="built_in">save</span></span><br></pre></td></tr></table></figure><ol start="3"><li>在blog（hexo）目录下Git Bash Here，运行hexo n “博客名”来生成md博客时，会在_post目录下看到一个与博客同名的文件夹</li></ol><figure class="highlight actionscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo <span class="keyword">new</span> <span class="string">"博客名"</span></span><br></pre></td></tr></table></figure><ol start="4"><li><p>将想要上传的图片先保存在文件夹下，然后在博客中使用markdown的格式引入图片：</p><p><img src="/2019/08/26/解决hexo显示不出本地图片问题/%E5%9B%BE%E7%89%87%E5%90%8D.jpg" alt="你想要输入的替代文字"><br>ps：因为博客名和文件夹名字相同，所以不需要绝对路径，只要xxxx是文件夹的名字就可以了。</p></li><li><p>使用hexo g部署，进入public\2019\08\26\index.html文件中查看相关字段，可以发现html标签内的语句是img src = “2019/08/26/xxxx/图片名.jpg”而不是img src=”xxxx.图片名.jpg”，这就成功了</p></li></ol>]]></content>
    
    <summary type="html">
    
      &lt;blockquote&gt;
&lt;p&gt;昨天刚开通博客，很兴奋，今天写了一篇博客，发现博客中的图片一直加载不出来。于是网上找了很多方案，鼓捣了很久才弄出来，真是麻烦，不过好在弄完了。让我们看看如何解决本地图片加载不出来的问题。&lt;/p&gt;
&lt;/blockquote&gt;
    
    </summary>
    
      <category term="Github" scheme="https://cometorbityh.github.io/categories/Github/"/>
    
      <category term="hexo" scheme="https://cometorbityh.github.io/categories/Github/hexo/"/>
    
    
      <category term="hexo" scheme="https://cometorbityh.github.io/tags/hexo/"/>
    
  </entry>
  
  <entry>
    <title>Servlet</title>
    <link href="https://cometorbityh.github.io/2019/08/24/Servlet/"/>
    <id>https://cometorbityh.github.io/2019/08/24/Servlet/</id>
    <published>2019-08-24T11:40:33.000Z</published>
    <updated>2019-08-26T09:26:49.702Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>Servlet是一个<strong>遵循Servlet开发的java类</strong>。由服务器调用的<strong>，</strong>运行在服务器端。</p><p>Servlet是一种独立于平台和协议的处于服务器端的Java应用程序，担当<strong>客户请求与服务器响应的中间层</strong></p></blockquote><a id="more"></a><h3 id="2-Servlet的作用："><a href="#2-Servlet的作用：" class="headerlink" title="2. Servlet的作用："></a>2. Servlet的作用：</h3><p>用来接收客户端的请求数据，然后调用底层service处理数据并生成结果，返回一个响应给浏览器。</p><p>利用他可以实现业务层和表现层的分离，同时又可以生成动态页面。</p><h3 id="3-Servlet执行业务的步骤"><a href="#3-Servlet执行业务的步骤" class="headerlink" title="3 . Servlet执行业务的步骤"></a>3 . Servlet执行业务的步骤</h3><p>浏览器http请求——》tomcat服务器——-》到达servlet—–》执行doget，dopost方法—-》返回数据<br>&lt;1&gt;客户端发送请求到服务器端<br>&lt;2&gt;服务器将请求信息发送至Servlet<br>&lt;3&gt;Servlet生成响应内容并将其传给服务器。<br>&lt;4&gt;服务器将响应返回给客户端。</p><h3 id="4-创建Servlet的三种方式"><a href="#4-创建Servlet的三种方式" class="headerlink" title="4. 创建Servlet的三种方式"></a>4. 创建Servlet的三种方式</h3><blockquote><ol><li>定义一个类实现javax.servlet.Servlet接口</li><li>定义一个类继承javax.servet.GenericServlet类</li><li>定义一个类继承javax.servlet.http.HttpServlet类   web应用我们自然基本上都是继承HttpServlet</li></ol></blockquote><h3 id="5-Servlet的生命周期（Servlet实例对象从创建到销毁的整个过程）"><a href="#5-Servlet的生命周期（Servlet实例对象从创建到销毁的整个过程）" class="headerlink" title="5. Servlet的生命周期（Servlet实例对象从创建到销毁的整个过程）"></a>5. Servlet的生命周期（Servlet实例对象从创建到销毁的整个过程）</h3><p>​        Servlet的生命周期由一套定义良好的生命周期规则来约束管理</p><p>​        其中定义了Servlet如何被加载实例化和初始化,处理客户端请求,以及何时结束服务</p><p>​        生命周期方法有:</p><p>​               void init(ServletConfig)；</p><p>​               void service(ServletRequest,ServletResponse)；</p><p>​               void destroy()；</p><p><img src="/2019/08/24/Servlet/../assets/clip_image001.png" alt="Serviet 生 命 周 期 示 意 图 "></p>]]></content>
    
    <summary type="html">
    
      &lt;blockquote&gt;
&lt;p&gt;Servlet是一个&lt;strong&gt;遵循Servlet开发的java类&lt;/strong&gt;。由服务器调用的&lt;strong&gt;，&lt;/strong&gt;运行在服务器端。&lt;/p&gt;
&lt;p&gt;Servlet是一种独立于平台和协议的处于服务器端的Java应用程序，担当&lt;strong&gt;客户请求与服务器响应的中间层&lt;/strong&gt;&lt;/p&gt;
&lt;/blockquote&gt;
    
    </summary>
    
      <category term="JavaWeb" scheme="https://cometorbityh.github.io/categories/JavaWeb/"/>
    
    
      <category term="JavaWeb" scheme="https://cometorbityh.github.io/tags/JavaWeb/"/>
    
      <category term="Servlet" scheme="https://cometorbityh.github.io/tags/Servlet/"/>
    
  </entry>
  
</feed>
